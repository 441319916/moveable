{"version":3,"file":"moveable.js","sources":["../src/InnerMoveable.tsx","../src/Moveable.tsx"],"sourcesContent":["import { Component, h } from \"preact\";\nimport Moveable, { MoveableProps } from \"preact-moveable\";\n\nexport default class InnerMoveable extends Component<MoveableProps> {\n    public state: MoveableProps = {};\n    constructor(props: MoveableProps) {\n        super(props);\n        this.state = this.props;\n    }\n    public render() {\n        return <Moveable {...this.state} />;\n    }\n}\n","import EgComponent from \"@egjs/component\";\nimport { ref } from \"framework-utils\";\nimport { h, render } from \"preact\";\nimport InnerMoveable from \"./InnerMoveable\";\nimport { MoveableOptions } from \"./types\";\nimport {\n    OnDragStart, OnDrag, OnResize, OnResizeStart,\n    OnResizeEnd, OnScaleStart, OnScaleEnd, OnRotateStart,\n    OnRotateEnd, OnDragEnd, OnRotate, OnScale,\n} from \"preact-moveable\";\n\nexport default class Moveable extends EgComponent {\n    private preactMoveable!: InnerMoveable;\n    constructor(parentElement: HTMLElement, options: MoveableOptions = {}) {\n        super();\n        const element = document.createElement(\"div\");\n\n        render(\n            <InnerMoveable\n                ref={ref(this, \"preactMoveable\")}\n                {...options}\n                onDragStart={this.onDragStart}\n                onDrag={this.onDrag}\n                onDragEnd={this.onDragEnd}\n                onResizeStart={this.onResizeStart}\n                onResize={this.onResize}\n                onResizeEnd={this.onResizeEnd}\n                onScaleStart={this.onScaleStart}\n                onScale={this.onScale}\n                onScaleEnd={this.onScaleEnd}\n                onRotateStart={this.onRotateStart}\n                onRotate={this.onRotate}\n                onRotateEnd={this.onRotateEnd}\n            />,\n            element,\n        );\n        parentElement.appendChild(element.children[0]);\n    }\n    get draggable() {\n        return this.preactMoveable.state.draggable || false;\n    }\n    set draggable(draggable: boolean) {\n        this.preactMoveable.setState({\n            draggable,\n        });\n    }\n    get target() {\n        return this.preactMoveable.state.draggable || false;\n    }\n    set target(target: boolean) {\n        this.preactMoveable.setState({\n            target,\n        });\n    }\n    get resizable() {\n        return this.preactMoveable.state.resizable || false;\n    }\n    set resizable(resizable: boolean) {\n        this.preactMoveable.setState({\n            resizable,\n        });\n    }\n    get scalable() {\n        return this.preactMoveable.state.scalable || false;\n    }\n    set scalable(scalable: boolean) {\n        this.preactMoveable.setState({\n            scalable,\n        });\n    }\n    get rotatable() {\n        return this.preactMoveable.state.rotatable || false;\n    }\n    set rotatable(rotatable: boolean) {\n        this.preactMoveable.setState({\n            rotatable,\n        });\n    }\n    private onDragStart = (e: OnDragStart) => {\n        this.trigger(\"dragStart\", e);\n    }\n    private onDrag = (e: OnDrag) => {\n        this.trigger(\"drag\", e);\n    }\n    private onDragEnd = (e: OnDragEnd) => {\n        this.trigger(\"dragEnd\", e);\n    }\n    private onResizeStart = (e: OnResizeStart) => {\n        this.trigger(\"resizeStart\", e);\n    }\n    private onResize = (e: OnResize) => {\n        this.trigger(\"resize\", e);\n    }\n    private onResizeEnd = (e: OnResizeEnd) => {\n        this.trigger(\"resizeEnd\", e);\n    }\n    private onScaleStart = (e: OnScaleStart) => {\n        this.trigger(\"scaleStart\", e);\n    }\n    private onScale = (e: OnScale) => {\n        this.trigger(\"scale\", e);\n    }\n    private onScaleEnd = (e: OnScaleEnd) => {\n        this.trigger(\"scaleEnd\", e);\n    }\n    private onRotateStart = (e: OnRotateStart) => {\n        this.trigger(\"rotateStart\", e);\n    }\n    private onRotate = (e: OnRotate) => {\n        this.trigger(\"rotate\", e);\n    }\n    private onRotateEnd = (e: OnRotateEnd) => {\n        this.trigger(\"rotateEnd\", e);\n    }\n}\n"],"names":["tslib_1","props","_super","_this","state","h","Moveable","Component","parentElement","options","e","trigger","element","document","createElement","render","InnerMoveable","ref","onDragStart","onDrag","onDragEnd","onResizeStart","onResize","onResizeEnd","onScaleStart","onScale","onScaleEnd","onRotateStart","onRotate","onRotateEnd","appendChild","children","Object","preactMoveable","draggable","setState","target","resizable","scalable","rotatable","EgComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGA;;;IAA2CA,EAAAA,SAAA,cAAA,QAAA;;IAEvC,wBAAA,CAAYC,KAAZ;IAAA,gBACIC,WAAA,KAAA,EAAMD,KAAN,SADJ;;IADOE,IAAAA,WAAA,GAAuB,EAAvB;IAGHA,IAAAA,KAAI,CAACC,KAAL,GAAaD,KAAI,CAACF,KAAlB;;IACH;;;;IACM,gBAAA,GAAP;IACI,WAAOI,EAACC,uBAAa,KAAKF,OAA1B;IACH,GAFM;;IAGX,sBAAA;IATA,EAA2CG,YAA3C;;ICQA;;;IAAsCP,EAAAA,SAAA,SAAA,QAAA;;IAElC,mBAAA,CAAYQ,aAAZ,EAAwCC,OAAxC;IAAwC,0BAAA,EAAA;IAAAA,MAAAA,YAAA;;;IAAxC,gBACIP,WAAA,KAAA,SADJ;;IAiEQC,IAAAA,iBAAA,GAAc,UAACO,CAAD;IAClBP,MAAAA,KAAI,CAACQ,OAAL,CAAa,WAAb,EAA0BD,CAA1B;IACH,KAFO;;IAGAP,IAAAA,YAAA,GAAS,UAACO,CAAD;IACbP,MAAAA,KAAI,CAACQ,OAAL,CAAa,MAAb,EAAqBD,CAArB;IACH,KAFO;;IAGAP,IAAAA,eAAA,GAAY,UAACO,CAAD;IAChBP,MAAAA,KAAI,CAACQ,OAAL,CAAa,SAAb,EAAwBD,CAAxB;IACH,KAFO;;IAGAP,IAAAA,mBAAA,GAAgB,UAACO,CAAD;IACpBP,MAAAA,KAAI,CAACQ,OAAL,CAAa,aAAb,EAA4BD,CAA5B;IACH,KAFO;;IAGAP,IAAAA,cAAA,GAAW,UAACO,CAAD;IACfP,MAAAA,KAAI,CAACQ,OAAL,CAAa,QAAb,EAAuBD,CAAvB;IACH,KAFO;;IAGAP,IAAAA,iBAAA,GAAc,UAACO,CAAD;IAClBP,MAAAA,KAAI,CAACQ,OAAL,CAAa,WAAb,EAA0BD,CAA1B;IACH,KAFO;;IAGAP,IAAAA,kBAAA,GAAe,UAACO,CAAD;IACnBP,MAAAA,KAAI,CAACQ,OAAL,CAAa,YAAb,EAA2BD,CAA3B;IACH,KAFO;;IAGAP,IAAAA,aAAA,GAAU,UAACO,CAAD;IACdP,MAAAA,KAAI,CAACQ,OAAL,CAAa,OAAb,EAAsBD,CAAtB;IACH,KAFO;;IAGAP,IAAAA,gBAAA,GAAa,UAACO,CAAD;IACjBP,MAAAA,KAAI,CAACQ,OAAL,CAAa,UAAb,EAAyBD,CAAzB;IACH,KAFO;;IAGAP,IAAAA,mBAAA,GAAgB,UAACO,CAAD;IACpBP,MAAAA,KAAI,CAACQ,OAAL,CAAa,aAAb,EAA4BD,CAA5B;IACH,KAFO;;IAGAP,IAAAA,cAAA,GAAW,UAACO,CAAD;IACfP,MAAAA,KAAI,CAACQ,OAAL,CAAa,QAAb,EAAuBD,CAAvB;IACH,KAFO;;IAGAP,IAAAA,iBAAA,GAAc,UAACO,CAAD;IAClBP,MAAAA,KAAI,CAACQ,OAAL,CAAa,WAAb,EAA0BD,CAA1B;IACH,KAFO;;IAhGJ,QAAME,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;IAEAC,IAAAA,MAAM,CACFV,EAACW;IACGC,MAAAA,GAAG,EAAEA,GAAG,CAACd,KAAD,EAAO,gBAAP;WACJM;IACJS,MAAAA,WAAW,EAAEf,KAAI,CAACe;IAClBC,MAAAA,MAAM,EAAEhB,KAAI,CAACgB;IACbC,MAAAA,SAAS,EAAEjB,KAAI,CAACiB;IAChBC,MAAAA,aAAa,EAAElB,KAAI,CAACkB;IACpBC,MAAAA,QAAQ,EAAEnB,KAAI,CAACmB;IACfC,MAAAA,WAAW,EAAEpB,KAAI,CAACoB;IAClBC,MAAAA,YAAY,EAAErB,KAAI,CAACqB;IACnBC,MAAAA,OAAO,EAAEtB,KAAI,CAACsB;IACdC,MAAAA,UAAU,EAAEvB,KAAI,CAACuB;IACjBC,MAAAA,aAAa,EAAExB,KAAI,CAACwB;IACpBC,MAAAA,QAAQ,EAAEzB,KAAI,CAACyB;IACfC,MAAAA,WAAW,EAAE1B,KAAI,CAAC0B;WAfpB,EAiBFjB,OAjBE,CAAN;IAmBAJ,IAAAA,aAAa,CAACsB,WAAd,CAA0BlB,OAAO,CAACmB,QAAR,CAAiB,CAAjB,CAA1B;;IACH;;;IACDC,EAAAA,qBAAA,qBAAA;aAAA;IACI,aAAO,KAAKC,cAAL,CAAoB7B,KAApB,CAA0B8B,SAA1B,IAAuC,KAA9C;IACH;aACD,UAAcA,SAAd;IACI,WAAKD,cAAL,CAAoBE,QAApB,CAA6B;IACzBD,QAAAA,SAAS;IADgB,OAA7B;IAGH;;;OAPD;IAQAF,EAAAA,qBAAA,kBAAA;aAAA;IACI,aAAO,KAAKC,cAAL,CAAoB7B,KAApB,CAA0B8B,SAA1B,IAAuC,KAA9C;IACH;aACD,UAAWE,MAAX;IACI,WAAKH,cAAL,CAAoBE,QAApB,CAA6B;IACzBC,QAAAA,MAAM;IADmB,OAA7B;IAGH;;;OAPD;IAQAJ,EAAAA,qBAAA,qBAAA;aAAA;IACI,aAAO,KAAKC,cAAL,CAAoB7B,KAApB,CAA0BiC,SAA1B,IAAuC,KAA9C;IACH;aACD,UAAcA,SAAd;IACI,WAAKJ,cAAL,CAAoBE,QAApB,CAA6B;IACzBE,QAAAA,SAAS;IADgB,OAA7B;IAGH;;;OAPD;IAQAL,EAAAA,qBAAA,oBAAA;aAAA;IACI,aAAO,KAAKC,cAAL,CAAoB7B,KAApB,CAA0BkC,QAA1B,IAAsC,KAA7C;IACH;aACD,UAAaA,QAAb;IACI,WAAKL,cAAL,CAAoBE,QAApB,CAA6B;IACzBG,QAAAA,QAAQ;IADiB,OAA7B;IAGH;;;OAPD;IAQAN,EAAAA,qBAAA,qBAAA;aAAA;IACI,aAAO,KAAKC,cAAL,CAAoB7B,KAApB,CAA0BmC,SAA1B,IAAuC,KAA9C;IACH;aACD,UAAcA,SAAd;IACI,WAAKN,cAAL,CAAoBE,QAApB,CAA6B;IACzBI,QAAAA,SAAS;IADgB,OAA7B;IAGH;;;OAPD;IA4CJ,iBAAA;IAvGA,EAAsCC,UAAtC;;;;;;;;"}