/*
Copyright (c) 2019 Daybrush
name: moveable
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/moveable.git
version: 0.10.3
*/
!function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function n(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function u(t){return void 0===t}var t=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),e.eventType=t;var r=!1,o=[e],i=0;e.stop=function(){r=!0},e.currentTarget=this;for(var a=arguments.length,s=new Array(2<a?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];for(1<=s.length&&(o=o.concat(s)),i=0;n[i];i++)n[i].apply(this,o);return!r},e.once=function(o,i){if("object"==typeof o&&u(i)){var t,e=o;for(t in e)this.once(t,e[t]);return this}if("string"==typeof o&&"function"==typeof i){var a=this;this.on(o,function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i.apply(a,n),a.off(o,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&u(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"==typeof t&&"function"==typeof e){var o=this._eventHandler[t];u(o)&&(this._eventHandler[t]=[],o=this._eventHandler[t]),o.push(e)}return this},e.off=function(t,e){if(u(t))return this._eventHandler={},this;if(u(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var o,i,a=this._eventHandler[t];if(a)for(o=0;void 0!==(i=a[o]);o++)if(i===e){a=a.splice(o,1);break}return this},t}();return t.VERSION="2.1.2",t}();function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}function e(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")}function g(e,n){return function(t){t&&(e[n]=t)}}function a(e,n,r){return function(t){t&&(e[n][r]=t)}}function l(n,r){return function(t){var e=t.prototype;n.forEach(function(t){r(e,t)})}}var b,c,f,p,d,h,x={},w=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function C(t,e){for(var n in e)t[n]=e[n];return t}function _(t){var e=t.parentNode;e&&e.removeChild(t)}function m(t,e,n){var r,o,i,a,s=arguments;if(e=C({},e),3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(null!=n&&(e.children=n),null!=t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===e[o]&&(e[o]=t.defaultProps[o]);return a=e.key,null!=(i=e.ref)&&delete e.ref,null!=a&&delete e.key,y(t,e,a,i)}function y(t,e,n,r){var o={type:t,props:e,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return b.vnode&&b.vnode(o),o}function E(){return{}}function S(t){return t.children}function k(t,e){this.props=t,this.context=e}function M(t,e){if(null==e)return t.__p?M(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?M(t):null}function D(t){var e,n;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return D(t)}}function N(t){(!t.__d&&(t.__d=!0)&&1===c.push(t)||p!==b.debounceRendering)&&(p=b.debounceRendering,(b.debounceRendering||f)(R))}function R(){var t,e,n,r,o,i,a;for(c.sort(function(t,e){return e.__v.__b-t.__v.__b});t=c.pop();)t.__d&&(r=n=void 0,i=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],r=G(a,o,C({},o),e.__n,void 0!==a.ownerSVGElement,null,n,null==i?M(o):i),T(n,o),r!=i&&D(o)))}function P(e,n,t,r,o,i,a,s,u){var l,c,f,p,d,h,v,g=t&&t.__k||w,m=g.length;if(s==x&&(s=null!=i?i[0]:m?M(t,0):null),l=0,n.__k=O(n.__k,function(t){if(null!=t){if(t.__p=n,t.__b=n.__b+1,null===(f=g[l])||f&&t.key==f.key&&t.type===f.type)g[l]=void 0;else for(c=0;c<m;c++){if((f=g[c])&&t.key==f.key&&t.type===f.type){g[c]=void 0;break}f=null}if(p=G(e,t,f=f||x,r,o,i,a,s,u),(c=t.ref)&&f.ref!=c&&(v=v||[]).push(c,t.__c||p,t),null!=p){if(null==h&&(h=p),null!=t.__d)p=t.__d,t.__d=null;else if(i==f||p!=s||null==p.parentNode){t:if(null==s||s.parentNode!==e)e.appendChild(p);else{for(d=s,c=0;(d=d.nextSibling)&&c<m;c+=2)if(d==p)break t;e.insertBefore(p,s)}"option"==n.type&&(e.value="")}s=p.nextSibling,"function"==typeof n.type&&(n.__d=p)}}return l++,t}),n.__e=h,null!=i&&"function"!=typeof n.type)for(l=i.length;l--;)null!=i[l]&&_(i[l]);for(l=m;l--;)null!=g[l]&&j(g[l],g[l]);if(v)for(l=0;l<v.length;l++)H(v[l],v[++l],v[++l])}function O(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)O(t[r],e,n);else n.push(e?e("string"==typeof t||"number"==typeof t?y(null,t,null,null):null!=t.__e||null!=t.__c?y(t.type,t.props,t.key,null):t):t);return n}function A(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===v.test(e)?n+"px":null==n?"":n}function z(t,e,n,r,o){var i,a,s,u,l;if("key"===(e=o?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(a in r)n&&a in n||A(i,a,"");if(n)for(s in n)r&&n[s]===r[s]||A(i,s,n[s])}else"o"===e[0]&&"n"===e[1]?(u=e!==(e=e.replace(/Capture$/,"")),e=((l=e.toLowerCase())in t?l:e).slice(2),n?(r||t.addEventListener(e,F,u),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,F,u)):"list"!==e&&"tagName"!==e&&"form"!==e&&!o&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function F(t){this.l[t.type](b.event?b.event(t):t)}function G(t,e,n,r,o,i,a,s,u){var l,c,f,p,d,h,v,g,m,_,y=e.type;if(void 0!==e.constructor)return null;(l=b.__b)&&l(e);try{t:if("function"==typeof y){if(g=e.props,m=(l=y.contextType)&&r[l.__c],_=l?m?m.props.value:l.__p:r,n.__c?v=(c=e.__c=n.__c).__p=c.__E:("prototype"in y&&y.prototype.render?e.__c=c=new y(g,_):(e.__c=c=new k(g,_),c.constructor=y,c.render=Y),m&&m.sub(c),c.props=g,c.state||(c.state={}),c.context=_,c.__n=r,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&C(c.__s==c.state?c.__s=C({},c.__s):c.__s,y.getDerivedStateFromProps(g,c.__s)),p=c.props,d=c.state,f)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&null==c.__e&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,_),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,_)){for(c.props=g,c.state=c.__s,c.__d=!1,(c.__v=e).__e=n.__e,e.__k=n.__k,l=0;l<e.__k.length;l++)e.__k[l]&&(e.__k[l].__p=e);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,_),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(p,d,h)})}c.context=_,c.props=g,c.state=c.__s,(l=b.__r)&&l(e),c.__d=!1,c.__v=e,c.__P=t,l=c.render(c.props,c.state,c.context),e.__k=O(null!=l&&l.type==S&&null==l.key?l.props.children:l),null!=c.getChildContext&&(r=C(C({},r),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(h=c.getSnapshotBeforeUpdate(p,d)),P(t,e,n,r,o,i,a,s,u),c.base=e.__e,c.__h.length&&a.push(c),v&&(c.__E=c.__p=null),c.__e=null}else e.__e=function(t,e,n,r,o,i,a,s){var u,l,c,f,p,d=n.props,h=e.props;if(o="svg"===e.type||o,null==t&&null!=i)for(u=0;u<i.length;u++)if(null!=(l=i[u])&&(null===e.type?3===l.nodeType:l.localName===e.type)){t=l,i[u]=null;break}if(null==t){if(null===e.type)return document.createTextNode(h);t=o?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),i=null}if(null===e.type)null!=i&&(i[i.indexOf(t)]=null),d!==h&&(t.data=h);else if(e!==n){if(null!=i&&(i=w.slice.call(t.childNodes)),c=(d=n.props||x).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!s){if(d===x)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(f||c)&&(f&&c&&f.__html==c.__html||(t.innerHTML=f&&f.__html||""))}(function(t,e,n,r,o){var i;for(i in n)i in e||z(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"value"===i||"checked"===i||n[i]===e[i]||z(t,i,e[i],n[i],r)})(t,h,d,o,s),e.__k=e.props.children,f||P(t,e,n,r,"foreignObject"!==e.type&&o,i,a,x,s),s||("value"in h&&void 0!==h.value&&h.value!==t.value&&(t.value=null==h.value?"":h.value),"checked"in h&&void 0!==h.checked&&h.checked!==t.checked&&(t.checked=h.checked))}return t}(n.__e,e,n,r,o,i,a,u);(l=b.diffed)&&l(e)}catch(t){b.__e(t,e,n)}return e.__e}function T(t,e){b.__c&&b.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){b.__e(t,e.__v)}})}function H(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){b.__e(t,n)}}function j(t,e,n){var r,o,i;if(b.unmount&&b.unmount(t),(r=t.ref)&&H(r,null,e),n||"function"==typeof t.type||(n=null!=(o=t.__e)),t.__e=t.__d=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){b.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&j(r[i],e,n);null!=o&&_(o)}function Y(t,e,n){return this.constructor(t,n)}function X(t,e,n){var r,o,i;b.__p&&b.__p(t,e),o=(r=n===d)?null:n&&n.__k||e.__k,t=m(S,null,[t]),i=[],G(e,(r?e:n||e).__k=t,o||x,x,void 0!==e.ownerSVGElement,n&&!r?[n]:o?null:w.slice.call(e.childNodes),i,n||x,r),T(i,t)}function L(t,e){X(t,e,d)}function W(t,e){return e=C(C({},t.props),e),2<arguments.length&&(e.children=w.slice.call(arguments,2)),y(t.type,e,e.key||t.key,e.ref||t.ref)}function q(t){var r={},o={__c:"__cC"+h++,__p:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,e=this;return this.getChildContext||(n=[],this.getChildContext=function(){return r[o.__c]=e,r},this.shouldComponentUpdate=function(e){t.value!==e.value&&n.some(function(t){t.context=e.value,N(t)})},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return o.Consumer.contextType=o}b={},k.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=C({},this.state));"function"==typeof t&&!(t=t(n,this.props))||C(n,t),null!=t&&this.__v&&(this.__e=!1,e&&this.__h.push(e),N(this))},k.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),N(this))},k.prototype.render=S,c=[],f="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,p=b.debounceRendering,b.__e=function(t,e,n){for(var r;e=e.__p;)if((r=e.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(t));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(t)}return N(r.__E=r)}catch(e){t=e}throw t},d=x,h=0;var U,B=[],V=b.__r;b.__r=function(t){V&&V(t),(U=t.__c).__H&&(U.__H.t.forEach(tt),U.__H.t.forEach(et),U.__H.t=[])};var I=b.diffed;b.diffed=function(t){I&&I(t);var e=t.__c;if(e){var n=e.__H;n&&n.t.length&&Z(B.push(e))}};var $=b.__c;b.__c=function(t,e){e.some(function(t){t.__h.forEach(tt),t.__h=t.__h.filter(function(t){return!t.u||et(t)})}),$&&$(t,e)};var K=b.unmount;b.unmount=function(t){K&&K(t);var e=t.__c;if(e){var n=e.__H;n&&n.i.forEach(function(t){return t.m&&t.m()})}};var Z=function(){};function J(){B.some(function(t){t.__P&&(t.__H.t.forEach(tt),t.__H.t.forEach(et),t.__H.t=[])}),B=[]}if("undefined"!=typeof window){var Q=b.requestAnimationFrame;Z=function(t){1!==t&&Q===b.requestAnimationFrame||((Q=b.requestAnimationFrame)||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(J)}}function tt(t){t.m&&t.m()}function et(t){var e=t.u();"function"==typeof e&&(t.m=e)}var nt=b.__e;b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.o)return n&&(e.__e=n.__e,e.__k=n.__k),void r.o(t);nt(t,e,n)},(new k).o=function(t){var e=this;e.__u.push(t);function n(){e.__u[e.__u.indexOf(t)]=e.__u[e.__u.length-1],e.__u.pop(),0==e.__u.length&&(e.__f&&j(e.__f),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.__f=e.__f&&W(e.__f),e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?(o=r.__e,i=void 0,(i=o.parentNode)&&i.removeChild(o)):r.__k&&t(r.__k))}var o,i}(e.__v.__k),e.__v.__k=[]),t.then(n,n)};var rt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ot=b.event;b.event=function(t){return ot&&(t=ot(t)),t.persist=function(){},t.nativeEvent=t};var it=function(){};function at(t){var e=this,n=t.container,r=m(it,{context:e.context},t.vnode);return e.i&&e.i!==n&&(e.l.parentNode&&e.i.removeChild(e.l),j(e.s),e.v=!1),t.vnode?e.v?(n.__k=e.__k,X(r,n),e.__k=n.__k):(e.l=document.createTextNode(""),L("",n),n.appendChild(e.l),e.v=!0,X(r,e.i=n,e.l),e.__k=this.l.__k):e.v&&(e.l.parentNode&&e.i.removeChild(e.l),j(e.s)),e.s=r,e.componentWillUnmount=function(){e.l.parentNode&&e.i.removeChild(e.l),j(e.s)},null}function st(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}it.prototype.getChildContext=function(){return this.props.context},it.prototype.render=function(t){return t.children};var ut;(ut=k)&&(lt.__proto__=ut),((lt.prototype=Object.create(ut&&ut.prototype)).constructor=lt).prototype.shouldComponentUpdate=function(t,e){return st(this.props,t)||st(this.state,e)};function lt(t){ut.call(this,t),this.isPureReactComponent=!0}function ct(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}k.prototype.isReactComponent={};var ft=b.vnode;b.vnode=function(i){i.$$typeof=rt,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.t&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.p&&t.prototype&&(ct(t.prototype,"componentWillMount"),ct(t.prototype,"componentWillReceiveProps"),ct(t.prototype,"componentWillUpdate"),t.p=!0),ft&&ft(i)};var pt=("undefined"!=typeof window&&window||{}).navigator,dt={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function ht(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}var vt=void 0;function gt(t,e){return e&&e.test?!!e.test(t):-1<t.indexOf(e)}function mt(t,e){var n=ht(t,function(t){return gt(vt,t.criteria)})[0];return n&&n.identity||e.name}function _t(t,r){return ht(t,function(t){var e=t.criteria,n=new RegExp(t.identity,"i").test(r);return!!(e?n&&gt(vt,e):n)})[0]}function yt(t,e){var n=dt.defaultString.browser.version,r=new RegExp("("+t+")","i").exec(e);if(!r)return n;var o=r.index,i=r[0];if(-1<o){var a=o+i.length+1;n=e.substring(a).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function bt(t){if(t)return yt(function(t){var e=_t(dt.browser,t);return e=e||{criteria:t,versionSearch:t,identity:t}}(t).versionSearch||t,vt)}function xt(){var t=dt.webview,e=void 0;return function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(ht(t,function(t){return gt(vt,t.criteria)}),function(t){return e=yt(t.browserVersionSearch,vt),!(!gt(vt,t.webviewToken)&&!gt(e,t.webviewBrowserVersion))})}function wt(t){var e=function(t){return _t(dt.os,t)}(t)||{},n=dt.defaultString.os.version,r=void 0;if(t){if(e.versionAlias)return e.versionAlias;var o=e.versionSearch||t,i=new RegExp("("+o+")\\s([\\d_\\.]+|\\d_0)","i");return i.exec(vt)&&(r=i.exec(vt)[2].replace(/_/g,".").replace(/;|\)/g,"")),r||n}}function Ct(){var t=mt(dt.os,dt.defaultString.os);return{name:t,version:wt(t)}}function Et(){var t=mt(dt.browser,dt.defaultString.browser);return{name:t,version:bt(t),webview:xt()}}function St(){!function(t){vt=t}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pt.userAgent);var t={os:Ct(),browser:Et(),isMobile:-1!==vt.indexOf("Mobi")};return t.browser.name=t.browser.name.toLowerCase(),t.os.name=t.os.name.toLowerCase(),t.os.version=t.os.version.toLowerCase(),"ios"===t.os.name&&t.browser.webview&&(t.browser.version="-1"),t}St.VERSION="2.1.5";function kt(t){if(!jt)return"";var e=(jt.body||jt.documentElement).style,n=Yt.length;if(typeof e[t]!==Ht)return t;for(var r=0;r<n;++r){var o="-"+Yt[r]+"-"+t;if(typeof e[o]!==Ht)return o}return""}var Mt="rgb",Dt="rgba",Nt="hsl",Rt="hsla",Pt=[Mt,Dt,Nt,Rt],Ot="function",At="property",zt="array",Ft="object",Gt="string",Tt="number",Ht="undefined",jt=typeof document!==Ht&&document,Yt=["webkit","ms","moz","o"],Xt=kt("transform"),Lt=kt("filter"),Wt=kt("animation");function qt(t){return typeof t===Ht}function Ut(t){return t&&typeof t===Ft}function Bt(t){return Array.isArray(t)}function Vt(t){return typeof t===Gt}function It(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}function $t(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Kt(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function Zt(t){var e=function(t){return t.replace("#","")}(t),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16),i=parseInt(e.substring(6,8),16)/255;return isNaN(i)&&(i=1),[n,r,o,i]}function Jt(t){if("#"===t.charAt(0))return 4===t.length||5===t.length?Zt(function(t){var e=t.charAt(1),n=t.charAt(2),r=t.charAt(3),o=t.charAt(4);return["#",e,e,n,n,r,r,o,o].join("")}(t)):Zt(t);if(-1!==t.indexOf("(")){var e=$t(t),n=e.prefix,r=e.value;if(!n||!r)return;var o=It(r),i=[],a=o.length;switch(n){case Mt:case Dt:for(var s=0;s<a;++s)i[s]=parseFloat(o[s]);return i;case Nt:case Rt:for(s=0;s<a;++s)-1!==o[s].indexOf("%")?i[s]=parseFloat(o[s])/100:i[s]=parseFloat(o[s]);return function(t){var e=t[0],n=t[1],r=t[2];e<0&&(e+=360*Math.floor((Math.abs(e)+360)/360)),e%=360;var o,i=(1-Math.abs(2*r-1))*n,a=i*(1-Math.abs(e/60%2-1)),s=r-i/2;return e<60?o=[i,a,0]:e<120?o=[a,i,0]:e<180?o=[0,i,a]:e<240?o=[0,a,i]:e<300?o=[a,0,i]:e<360&&(o=[i,0,a]),[Math.round(255*(o[0]+s)),Math.round(255*(o[1]+s)),Math.round(255*(o[2]+s)),3<t.length?t[3]:1]}(i)}}}function Qt(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function te(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function ee(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function ne(t,e,n,r){t.addEventListener(e,n,r)}function re(t,e,n){t.removeEventListener(e,n)}var oe,ie,ae=[],se=b.__r;b.__r=function(t){se&&se(t),oe=0,(ie=t.__c).__H&&(ie.__H.t=ge(ie.__H.t))};var ue=b.diffed;b.diffed=function(t){ue&&ue(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=ge(n.i))}};var le=b.unmount;function ce(t){b.__h&&b.__h(ie);var e=ie.__H||(ie.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function fe(n,t,e){var r=ce(oe++);return r.__c||(r.__c=ie,r.v=[e?e(t):be(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function pe(t,e){var n=ce(oe++);return ye(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}b.unmount=function(t){le&&le(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var de=function(){};function he(){ae.some(function(t){t.s=!1,t.__P&&(t.__H.t=ge(t.__H.t))}),ae=[]}if("undefined"!=typeof window){var ve=b.requestAnimationFrame;de=function(t){(!t.s&&(t.s=!0)&&1===ae.push(t)||ve!==b.requestAnimationFrame)&&(ve=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(he))}}function ge(t){return t.forEach(me),t.forEach(_e),[]}function me(t){t.l&&t.l()}function _e(t){var e=t.v();"function"==typeof e&&(t.l=e)}function ye(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function be(t,e){return"function"==typeof e?e(t):e}var xe={__proto__:null,useState:function(t){return fe(be,t)},useReducer:fe,useEffect:function(t,e){var n=ce(oe++);ye(n.m,e)&&(n.v=t,n.m=e,ie.__H.t.push(n),de(ie))},useLayoutEffect:function(t,e){var n=ce(oe++);ye(n.m,e)&&(n.v=t,n.m=e,ie.__H.i.push(n))},useRef:function(t){return pe(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){var r=ce(oe++);ye(r.m,n)&&(r.m=n,ie.__H.u.push({ref:t,createHandle:e}))},useMemo:pe,useCallback:function(t,e){return pe(function(){return t},e)},useContext:function(t){var e=ie.context[t.__c];if(!e)return t.__p;var n=ce(oe++);return null==n.v&&(n.v=!0,e.sub(ie)),e.props.value},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}};function we(t,e){for(var n in e)t[n]=e[n];return t}function Ce(t){var e=t.parentNode;e&&e.removeChild(t)}var Ee=b.__e;function Se(){this.t=[]}b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);Ee(t,e,n)},(Se.prototype=new k).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(j(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?Ce(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},Se.prototype.render=function(t,e){return e.u?t.fallback:t.children};var ke="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Me=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,De=b.event;function Ne(t,e,n){if(null==e.__k)for(;e.firstChild;)Ce(e.firstChild);return X(t,e),"function"==typeof n&&n(),t?t.__c:null}b.event=function(t){return De&&(t=De(t)),t.persist=function(){},t.nativeEvent=t};var Re=function(){};function Pe(t){var e=this,n=t.container,r=m(Re,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,X(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),L("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,X(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),j(e.v)},null}Re.prototype.getChildContext=function(){return this.props.context},Re.prototype.render=function(t){return t.children};function Oe(t,e){return t?O(t).map(e):null}var Ae={map:Oe,forEach:Oe,count:function(t){return t?O(t).length:0},only:function(t){if(1!==(t=O(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:O};function ze(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=m.apply(void 0,t),r=n.type,o=n.props;return"function"!=typeof r&&(o.defaultValue&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===r&&(O(o.children).forEach(function(t){-1!=o.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete o.value),function(t,e){var n,r,o;for(o in e)if(n=Me.test(o))break;if(n)for(o in r=t.props={},e)r[Me.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o]}(n,o)),n.preactCompatNormalized=!1,Fe(n)}function Fe(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(Te.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",Te)),t;var e}function Ge(t){return!!t&&t.$$typeof===ke}var Te={configurable:!0,get:function(){return this.class}};function He(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function je(t){return t&&(t.base||1===t.nodeType&&t)||null}var Ye,Xe=((Ye=k)&&(Le.__proto__=Ye),((Le.prototype=Object.create(Ye&&Ye.prototype)).constructor=Le).prototype.shouldComponentUpdate=function(t,e){return He(this.props,t)||He(this.state,e)},Le);function Le(t){Ye.call(this,t),this.isPureReactComponent=!0}function We(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}k.prototype.isReactComponent={};var qe=b.vnode;b.vnode=function(i){i.$$typeof=ke,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.o&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.h&&t.prototype&&(We(t.prototype,"componentWillMount"),We(t.prototype,"componentWillReceiveProps"),We(t.prototype,"componentWillUpdate"),t.h=!0),qe&&qe(i)};we({version:"16.8.0",Children:Ae,render:Ne,hydrate:Ne,unmountComponentAtNode:function(t){return!!t.__k&&(X(null,t),!0)},createPortal:function(t,e){return m(Pe,{vnode:t,container:e})},createElement:ze,createContext:q,createFactory:function(t){return ze.bind(null,t)},cloneElement:function(t){return Ge(t)?Fe(W.apply(null,arguments)):t},createRef:E,Fragment:S,isValidElement:Ge,findDOMNode:je,Component:k,PureComponent:Xe,memo:function(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):He(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,m(e,we({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t},forwardRef:function(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t},unstable_batchedUpdates:function(t,e){return t(e)},Suspense:Se,lazy:function(e){var n,r,o;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){o=t}),o)throw o;if(!r)throw n;return m(r,t)}return t.displayName="Lazy",t.o=!0,t}},xe);var Ue=function(t,e){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Be=function(){return(Be=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var Ve=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function Ie(n,t){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return function(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(document.head||document.body).appendChild(e),e}var $e=function(){return($e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Ke(t,e,n,r){var o=rn(t),i=rn(e),a=rn(r);return Je(on(r[0],an(o,a)),on(r[0],an(i,a)),n[0])}function Ze(t){return t.touches?en(t.touches):[nn(t)]}function Je(t,e,n){var r=t.clientX,o=t.clientY;return{clientX:r,clientY:o,deltaX:r-e.clientX,deltaY:o-e.clientY,distX:r-n.clientX,distY:o-n.clientY}}function Qe(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function tn(t,n,r){return t.map(function(t,e){return Je(t,n[e],r[e])})}function en(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(nn(t[r]));return n}function nn(t){return{clientX:t.clientX,clientY:t.clientY}}function rn(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function on(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function an(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var sn=function(){function t(t,e){var i=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(i.flag||!1!==t.cancelable){if(function(t){return t.touches&&2<=t.touches.length}(t)){if(!i.flag&&t.touches.length!==t.changedTouches.length)return;i.pinchFlag||i.onPinchStart(t)}if(!i.flag){var e=i.startClients[0]?i.startClients:Ze(t);i.customDist=[0,0],i.flag=!0,i.isDrag=!1,i.startClients=e,i.prevClients=e,i.datas={};var n=Je(e[i.movement=0],i.prevClients[0],i.startClients[0]),r=i.options,o=r.dragstart;(r.preventRightClick&&3===t.which||!1===(o&&o($e({datas:i.datas,inputEvent:t},n))))&&(i.startClients=[],i.prevClients=[],i.flag=!1),i.flag&&t.preventDefault()}}},this.onDrag=function(t,e){if(i.flag){var n=Ze(t);i.pinchFlag&&i.onPinch(t,n);var r=i.move([0,0],t,n);if(r&&(r.deltaX||r.deltaY)){var o=i.options.drag;o&&o($e({},r,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(i.flag){i.pinchFlag&&i.onPinchEnd(t),i.flag=!1;var e=i.options.dragend,n=i.prevClients,r=i.startClients,o=i.pinchFlag?Ke(n,n,r,i.startPinchClients):Je(n[0],n[0],r[0]);i.startClients=[],i.prevClients=[],e&&e($e({datas:i.datas,isDrag:i.isDrag,inputEvent:t},o))}},this.options=$e({container:t,preventRightClick:!0,pinchThreshold:0,events:["touch","mouse"]},e);var n=this.options,r=n.container,o=n.events;if(this.isTouch=-1<o.indexOf("touch"),this.isMouse=-1<o.indexOf("mouse"),this.customDist=[0,0],this.isMouse&&(ne(t,"mousedown",this.onDragStart),ne(r,"mousemove",this.onDrag),ne(r,"mouseup",this.onDragEnd)),this.isTouch){var a={passive:!1};ne(t,"touchstart",this.onDragStart,a),ne(r,"touchmove",this.onDrag,a),ne(r,"touchend",this.onDragEnd,a)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(e,n,t,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),r&&this.onDrag(t,!0))},e.move=function(t,e,n){var r=t[0],o=t[1];void 0===n&&(n=this.prevClients);var i=this.customDist,a=this.prevClients,s=this.startClients,u=this.pinchFlag?Ke(n,a,s,this.startPinchClients):Je(n[0],a[0],s[0]);i[0]+=r,i[1]+=o,u.deltaX+=r,u.deltaY+=o;var l=u.deltaX,c=u.deltaY;return u.distX+=i[0],u.distY+=i[1],this.movement+=Math.sqrt(l*l+c*c),this.prevClients=n,this.isDrag=!0,$e({datas:this.datas},u,{isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,o=r.pinchstart,i=r.pinchThreshold;if(!(this.isDrag&&this.movement>i)){var a=en(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,a),(n=this.prevClients).push.apply(n,a),this.startDistance=Qe(this.prevClients),this.startPinchClients=this.prevClients.slice(),o){var s=this.prevClients,u=rn(s),l=Je(u,u,u);o($e({datas:this.datas,touches:tn(s,s,s)},l,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,o=this.startClients,i=Je(rn(e),rn(r),rn(o)),a=Qe(e);n($e({datas:this.datas,touches:tn(e,r,o),scale:a/this.startDistance,distance:a},i,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,o=this.startClients,i=Je(rn(r),rn(r),rn(o));n($e({datas:this.datas,isPinch:e,touches:tn(r,r,o)},i,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(re(t,"mousedown",this.onDragStart),re(e,"mousemove",this.onDrag),re(e,"mouseup",this.onDragEnd)),this.isTouch&&(re(t,"touchstart",this.onDragStart),re(e,"touchmove",this.onDrag),re(e,"touchend",this.onDragEnd))},t}(),un=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,o=n.indexOf(t),i=-1===o?n.length:o;n[i]=t,r[i]=e},t}(),ln=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),cn="function"==typeof Map,fn=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var pn=function(){function t(t,e,n,r,o,i,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=o,this.maintained=i,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,n){var s=[],u=[];return t.forEach(function(t){var e=t[0],n=t[1],r=new fn;s[e]=r,u[n]=r}),s.forEach(function(t,e){t.connect(s[e-1])}),t.filter(function(t,e){return!n[e]}).map(function(t,e){var n=t[0],r=t[1];if(n===r)return[0,0];var o=s[n],i=u[r-1],a=o.getIndex();return o.disconnect(),i?o.connect(i,i.next):o.connect(void 0,s[0]),[a,o.getIndex()]})}(this.changedBeforeAdded,this.fixed),s=this.changed,u=[];this.cacheOrdered=t.filter(function(t,e){var n=t[0],r=t[1],o=s[e],i=o[0],a=o[1];if(n!==r)return u.push([i,a]),!0}),this.cachePureChanged=u},t}();var dn=function(t,e){return(dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var hn,vn,gn,mn="function"==typeof Map?void 0:(hn=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++hn)}),_n=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,mn)||this}return function(t,e){function n(){this.constructor=t}dn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t}(function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=function(t,e,n){var r=cn?Map:n?ln:un,o=n||function(t){return t},i=[],a=[],s=[],u=t.map(o),l=e.map(o),c=new r,f=new r,p=[],d=[],h={},v=[],g=0,m=0;return u.forEach(function(t,e){c.set(t,e)}),l.forEach(function(t,e){f.set(t,e)}),u.forEach(function(t,e){var n=f.get(t);void 0===n?(++m,a.push(e)):h[n]=m}),l.forEach(function(t,e){var n=c.get(t);void 0===n?(i.push(e),++g):(s.push([n,e]),m=h[e]||0,p.push([n-m,e-g]),d.push(e===n),n!==e&&v.push([n,e]))}),a.reverse(),new pn(t,e,i,a,v,s,p,d)}(this.list,e,this.findKeyCallback);return this.list=e,n},t}()),yn=[],bn=b.__r;b.__r=function(t){bn&&bn(t),vn=0,(gn=t.__c).__H&&(gn.__H.t=Tn(gn.__H.t))};var xn=b.diffed;b.diffed=function(t){xn&&xn(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=Tn(n.i))}};var wn=b.unmount;function Cn(t){b.__h&&b.__h(gn);var e=gn.__H||(gn.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function En(t){return Sn(Xn,t)}function Sn(n,t,e){var r=Cn(vn++);return r.__c||(r.__c=gn,r.v=[e?e(t):Xn(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function kn(t,e){var n=Cn(vn++);Yn(n.m,e)&&(n.v=t,n.m=e,gn.__H.t.push(n),zn(gn))}function Mn(t,e){var n=Cn(vn++);Yn(n.m,e)&&(n.v=t,n.m=e,gn.__H.i.push(n))}function Dn(t){return Rn(function(){return{current:t}},[])}function Nn(t,e,n){var r=Cn(vn++);Yn(r.m,n)&&(r.m=n,gn.__H.u.push({ref:t,createHandle:e}))}function Rn(t,e){var n=Cn(vn++);return Yn(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}function Pn(t,e){return Rn(function(){return t},e)}function On(t){var e=gn.context[t.__c];if(!e)return t.__p;var n=Cn(vn++);return null==n.v&&(n.v=!0,e.sub(gn)),e.props.value}function An(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}b.unmount=function(t){wn&&wn(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var zn=function(){};function Fn(){yn.some(function(t){t.s=!1,t.__P&&(t.__H.t=Tn(t.__H.t))}),yn=[]}if("undefined"!=typeof window){var Gn=b.requestAnimationFrame;zn=function(t){(!t.s&&(t.s=!0)&&1===yn.push(t)||Gn!==b.requestAnimationFrame)&&(Gn=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(Fn))}}function Tn(t){return t.forEach(Hn),t.forEach(jn),[]}function Hn(t){t.l&&t.l()}function jn(t){var e=t.v();"function"==typeof e&&(t.l=e)}function Yn(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function Xn(t,e){return"function"==typeof e?e(t):e}var Ln={useState:En,useReducer:Sn,useEffect:kn,useLayoutEffect:Mn,useRef:Dn,useImperativeHandle:Nn,useMemo:Rn,useCallback:Pn,useContext:On,useDebugValue:An};function Wn(t,e){for(var n in e)t[n]=e[n];return t}function qn(t){var e=t.parentNode;e&&e.removeChild(t)}var Un=b.__e;function Bn(){this.t=[]}function Vn(e){var n,r,o;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){o=t}),o)throw o;if(!r)throw n;return m(r,t)}return t.displayName="Lazy",t.o=!0,t}b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);Un(t,e,n)},(Bn.prototype=new k).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(j(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?qn(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},Bn.prototype.render=function(t,e){return e.u?t.fallback:t.children};var In="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,$n=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,Kn=b.event;function Zn(t){return or.bind(null,t)}function Jn(t,e,n){if(null==e.__k)for(;e.firstChild;)qn(e.firstChild);return X(t,e),"function"==typeof n&&n(),t?t.__c:null}b.event=function(t){return Kn&&(t=Kn(t)),t.persist=function(){},t.nativeEvent=t};var Qn=function(){};function tr(t){var e=this,n=t.container,r=m(Qn,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,X(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),L("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,X(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),j(e.v)},null}function er(t,e){return m(tr,{vnode:t,container:e})}Qn.prototype.getChildContext=function(){return this.props.context},Qn.prototype.render=function(t){return t.children};function nr(t,e){return t?O(t).map(e):null}var rr={map:nr,forEach:nr,count:function(t){return t?O(t).length:0},only:function(t){if(1!==(t=O(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:O};function or(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=m.apply(void 0,t),r=n.type,o=n.props;return"function"!=typeof r&&(o.defaultValue&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===r&&(O(o.children).forEach(function(t){-1!=o.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete o.value),function(t,e){var n,r,o;for(o in e)if(n=$n.test(o))break;if(n)for(o in r=t.props={},e)r[$n.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o]}(n,o)),n.preactCompatNormalized=!1,ir(n)}function ir(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(lr.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",lr)),t;var e}function ar(t){return sr(t)?ir(W.apply(null,arguments)):t}function sr(t){return!!t&&t.$$typeof===In}function ur(t){return!!t.__k&&(X(null,t),!0)}var lr={configurable:!0,get:function(){return this.class}};function cr(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function fr(t){return t&&(t.base||1===t.nodeType&&t)||null}var pr,dr=((pr=k)&&(hr.__proto__=pr),((hr.prototype=Object.create(pr&&pr.prototype)).constructor=hr).prototype.shouldComponentUpdate=function(t,e){return cr(this.props,t)||cr(this.state,e)},hr);function hr(t){pr.call(this,t),this.isPureReactComponent=!0}function vr(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):cr(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,m(e,Wn({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t}function gr(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t}function mr(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}k.prototype.isReactComponent={};var _r=b.vnode;b.vnode=function(i){i.$$typeof=In,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.o&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.h&&t.prototype&&(mr(t.prototype,"componentWillMount"),mr(t.prototype,"componentWillReceiveProps"),mr(t.prototype,"componentWillUpdate"),t.h=!0),_r&&_r(i)};function yr(t,e){return t(e)}var br={default:Wn({version:"16.8.0",Children:rr,render:Jn,hydrate:Jn,unmountComponentAtNode:ur,createPortal:er,createElement:or,createContext:q,createFactory:Zn,cloneElement:ar,createRef:E,Fragment:S,isValidElement:sr,findDOMNode:fr,Component:k,PureComponent:dr,memo:vr,forwardRef:gr,unstable_batchedUpdates:yr,Suspense:Bn,lazy:Vn},Ln),version:"16.8.0",Children:rr,render:Jn,hydrate:Jn,unmountComponentAtNode:ur,createPortal:er,createElement:or,createFactory:Zn,cloneElement:ar,isValidElement:sr,findDOMNode:fr,PureComponent:dr,memo:vr,forwardRef:gr,unstable_batchedUpdates:yr,Suspense:Bn,lazy:Vn,createContext:q,createRef:E,Fragment:S,Component:k,useState:En,useReducer:Sn,useEffect:kn,useLayoutEffect:Mn,useRef:Dn,useImperativeHandle:Nn,useMemo:Rn,useCallback:Pn,useContext:On,useDebugValue:An};function xr(t,e,n,r,o,i){for(var a=n;a<r;++a)t[a]+=t[o+a-n]*i,e[a]+=e[o+a-n]*i}function wr(t,e,n,r,o){for(var i=n;i<r;++i){var a=t[i],s=e[i];t[i]=t[o+i-n],t[o+i-n]=a,e[i]=e[o+i-n],e[o+i-n]=s}}function Cr(t,e,n,r,o){for(var i=n;i<r;++i)t[i]/=o,e[i]/=o}function Er(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=jr(e),o=0;o<e;++o){var i=e*o,a=e*(o+1),s=i+o;if(0===n[s])for(var u=o+1;u<e;++u)if(n[e*u+o]){wr(n,r,i,a,e*u);break}if(!n[s])return[];Cr(n,r,i,a,n[s]);for(u=0;u<e;++u){var l=e*u,c=l+e,f=n[l+o];0!==f&&o!==u&&xr(n,r,l,c,i,-f)}}return r}function Sr(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var o=0;o<e;++o)n[o*e+r]=t[e*r+o];return n}function kr(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=Math.atan2(r,n);return 0<o?o:o+2*Math.PI}function Mr(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function Dr(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=jr(n),o=Math.min(e,n),i=0;i<o-1;++i){for(var a=0;a<o-1;++a)r[i*n+a]=t[i*e+a];r[(i+1)*n-1]=t[(i+1)*e-1],r[(n-1)*n+i]=t[(e-1)*e+i]}return r[n*n-1]=t[e*e-1],r}function Nr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=jr(e);return t.forEach(function(t){r=Rr(r,t,e)}),r}function Rr(t,e,n){var r=[],o=t.length/n,i=e.length/o;if(!o)return e;if(!i)return t;for(var a=0;a<n;++a)for(var s=0;s<i;++s)for(var u=r[a*i+s]=0;u<o;++u)r[a*i+s]+=t[a*o+u]*e[u*i+s];return r}function Pr(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=[],o=t.length/n,i=e.length/o,a=0;a<n;++a)for(var s=0;s<i;++s)for(var u=r[a+s*i]=0;u<o;++u)r[a+s*i]+=t[a+u*o]*e[u+s*i];return r}function Or(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,r=0,o=n-1;0<=o;--o)r+=t[o];return n?r/n:0}function Ar(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),o=0;o<n;++o)r[o]=r[o]+e[o];return r}function zr(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),o=0;o<n;++o)r[o]=r[o]-e[o];return r}function Fr(t,e,n){void 0===n&&(n=e.length);var r=Rr(t,e,n),o=r[n-1];return r.map(function(t){return t/o})}function Gr(t,e){return Fr(Hr(e,3),Mr(t,3))}function Tr(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:Sr(t)}function Hr(t,e){var n=Math.cos(t),r=Math.sin(t),o=jr(e);return o[0]=n,o[1]=-r,o[e]=r,o[e+1]=n,o}function jr(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function Yr(t,e){for(var n=jr(e),r=Math.min(t.length,e-1),o=0;o<r;++o)n[(e+1)*o]=t[o];return n}function Xr(t,e){for(var n=jr(e),r=Math.min(t.length,e-1),o=0;o<r;++o)n[e*(o+1)-1]=t[o];return n}function Lr(t,e,n,r,o,i,a,s){var u=t[0],l=t[1],c=e[0],f=e[1],p=n[0],d=n[1],h=r[0],v=r[1],g=o[0],m=o[1],_=i[0],y=i[1],b=a[0],x=a[1],w=s[0],C=s[1],E=Er([u,l,1,0,0,0,-g*u,-g*l,0,0,0,u,l,1,-m*u,-m*l,c,f,1,0,0,0,-_*c,-_*f,0,0,0,c,f,1,-y*c,-y*f,p,d,1,0,0,0,-b*p,-b*d,0,0,0,p,d,1,-x*p,-x*d,h,v,1,0,0,0,-w*h,-w*v,0,0,0,h,v,1,-C*h,-C*v],8);if(!E.length)return[];var S=Rr(E,[g,m,_,y,b,x,w,C],8);return S[8]=1,Dr(S,3,4)}var Wr=function(t,e){return(Wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function qr(t,e){function n(){this.constructor=t}Wr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ur=function(){return(Ur=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Br=St(),Vr=-1<Br.os.name.indexOf("ios")||-1<Br.browser.name.indexOf("safari"),Ir="moveable-",$r=e(Ir,"\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 3000;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n\ttop: 0;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    z-index: 10;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tbackground: #4af;\n\ttransform-origin: 0px 0.5px;\n}\n.line.rotation-line {\n\theight: 40px;\n\twidth: 1px;\n\ttransform-origin: 0.5px 39.5px;\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n\tcursor: alias;\n}\n.line.vertical.bold {\n    width: 2px;\n    margin-left: -1px;\n}\n.line.horizontal.bold {\n    height: 2px;\n    margin-top: -1px;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n\tmargin-left: -6px;\n\tpointer-events: none;\n}\n.direction.e, .direction.w {\n\tcursor: ew-resize;\n}\n.direction.s, .direction.n {\n\tcursor: ns-resize;\n}\n.direction.nw, .direction.se, :host.reverse .direction.ne, :host.reverse .direction.sw {\n\tcursor: nwse-resize;\n}\n.direction.ne, .direction.sw, :host.reverse .direction.nw, :host.reverse .direction.se {\n\tcursor: nesw-resize;\n}\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(Vr?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n"),Kr=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Zr=Math.pow(10,10),Jr=-Zr,Qr={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]};function to(t,e){return[t[0]*e[0],t[1]*e[1]]}function eo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(void 0,[Ir].concat(t))}function no(){return jr(3)}function ro(t,e,n){return Nr(e,Xr(n,e),t,Xr(n.map(function(t){return-t}),e))}function oo(i){return io(Ro(i,":before")).map(function(t,e){var n=Kt(t),r=n.value,o=n.unit;return r*function(t,e,n){return"%"!==e?1:t.ownerSVGElement.viewBox.baseVal[n?"width":"height"]/100}(i,o,0===e)})}function io(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function ao(t,e,n){for(var r=document.body,o=!t||n?t:t.parentElement,i=!1;o&&o!==r;){e===o&&(i=!0);var a=Ro(o),s=a.position,u=a.transform;if("static"!==s||u&&"none"!==u)break;o=o.parentElement}return{isEnd:i||!o||o===r,offsetParent:o||r}}function so(t,e,n,r){var o,i,a,s,u,l=t,c=[],f="svg"!==l.tagName.toLowerCase()&&"ownerSVGElement"in l,p=e||document.body,d=!1,h=!1,v=3;for(n&&(e=t.parentElement);l&&!d;){var g=Ro(l),m=l.tagName.toLowerCase(),_="fixed"===g.position,y=g.transform,b=6===(s=(u=y)&&"none"!==u?Ut(u)?u:$t(u).value.split(/s*,\s*/g).map(function(t){return parseFloat(t)}):[1,0,0,1,0,0]).length?[s[0],s[2],s[4],s[1],s[3],s[5],0,0,1]:Sr(s);if(!h&&16===b.length){h=!0,v=4;for(var x=c.length,w=0;w<x;++w)c[w]=Dr(c[w],3,4)}h&&9===b.length&&(b=Dr(b,3,4));var C=l.offsetLeft,E=l.offsetTop;if(_){var S=(e||document.documentElement).getBoundingClientRect();C-=S.left,E-=S.top}var k=qt(C),M=k,D=void 0;M&&"svg"!==m?(D=Vr?oo(l):io(g).map(function(t){return parseFloat(t)}),M=!1,"g"===m?E=C=0:(C=(o=lo(l,D))[0],E=o[1],D[0]=o[2],D[1]=o[3])):D=io(g).map(function(t){return parseFloat(t)}),"svg"===m&&a&&c.push(uo(l,v),jr(v));var N=l.parentElement;if(Vr&&!M&&!k){var R=ao(l,e),P=R.isEnd;C-=((N=R.offsetParent)||e||document.body).offsetLeft,E-=(N||e||document.body).offsetTop,d=d||P}if(c.push(ro(b,v,D),Xr([M?l:C-l.scrollLeft,M?D:E-l.scrollTop],v)),a=a||b,i=i||D,d||_)break;if(Vr)l=N;else{var O=ao(l,e);l=O.offsetParent,d=O.isEnd}}var A=n?Dr(n,r,v):jr(v),z=n?Dr(n,r,v):jr(v),F=jr(v),G=c.length,T=ao(p,p,!0).offsetParent;c.reverse(),c.forEach(function(t,e){var n;G-2===e&&(z=A.slice()),G-1===e&&(F=A.slice()),Ut(t[v-1])&&(n=function(t,e,n,r,o,i){var a,s=_o(t),u=s[0],l=s[1],c=e.getBoundingClientRect(),f=t.getBoundingClientRect(),p=f.left-c.left+e.scrollLeft,d=f.top-c.top+e.scrollTop,h=f.width,v=f.height,g=Nr(n,o,i),m=ho(g,u,l,n),_=m.left,y=m.top,b=m.width,x=m.height,w=co(g,r,n),C=zr(w,[_,y]),E=[p+C[0]*h/b,d+C[1]*v/x],S=[0,0],k=0;for(;++k<10;){var M=Er(o,n);a=zr(co(M,E,n),co(M,w,n)),S[0]=a[0],S[1]=a[1];var D=ho(Nr(n,o,Xr(S,n),i),u,l,n),N=D.left,R=D.top,P=N-p,O=R-d;if(Math.abs(P)<2&&Math.abs(O)<2)break;E[0]-=P,E[1]-=O}return S.map(function(t){return Math.round(t)})}(t[v-1],T,v,t[2*v-1],A,c[e+1]),t[v-1]=n[0],t[2*v-1]=n[1]),A=Rr(A,t,v)});var H=(!f&&h?"matrix3d":"matrix")+"("+Tr(f&&16===a.length?Dr(a,4,3):a)+")";return[z,F,A,a,H,i,h]}function uo(t,e){var n=t.clientWidth,r=t.clientHeight,o=t.viewBox.baseVal,i=o.width||n,a=o.height||r,s=n/i,u=r/a,l=t.preserveAspectRatio.baseVal,c=l.align,f=l.meetOrSlice,p=[0,0],d=[s,u],h=[0,0];if(1!==c){var v=(c-2)%3,g=Math.floor((c-2)/3);p[0]=i*v/2,p[1]=a*g/2;var m=2===f?Math.max(u,s):Math.min(s,u);d[0]=m,d[1]=m,h[0]=(n-i)/2*v,h[1]=(r-a)/2*g}var _=Yr(d,e);return _[e-1]=h[0],_[2*e-1]=h[1],ro(_,e,p)}function lo(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),r=t.ownerSVGElement.viewBox.baseVal,o=n.x-r.x,i=n.y-r.y;return[o,i,e[0]-o,e[1]-i]}function co(t,e,n){return Fr(t,Mr(e,n),n)}function fo(t,e,n,r){return[co(t,[0,0],r),co(t,[e,0],r),co(t,[0,n],r),co(t,[e,n],r)]}function po(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]}),r=Math.min.apply(Math,e),o=Math.min.apply(Math,n),i=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{left:r,top:o,right:i,bottom:a,width:i-r,height:a-o}}function ho(t,e,n,r){return po(fo(t,e,n,r))}function vo(t,e,n,r){var o=16===t.length?4:3,i=fo(t,n,r,o),a=i[0],s=a[0],u=a[1],l=i[1],c=l[0],f=l[1],p=i[2],d=p[0],h=p[1],v=i[3],g=v[0],m=v[1],_=co(t,e,o),y=_[0],b=_[1],x=Math.min(s,c,d,g),w=Math.min(u,f,h,m),C=Math.max(s,c,d,g),E=Math.max(u,f,h,m);y=y-x||0,b=b-w||0;var S=[((s=s-x||0)+(c=c-x||0)+(d=d-x||0)+(g=g-x||0))/4,((u=u-w||0)+(f=f-w||0)+(h=h-w||0)+(m=m-w||0))/4],k=kr(S,[s,u]),M=kr(S,[c,f]);return[[x,w,C,E],[y,b],[s,u],[c,f],[d,h],[g,m],k<M&&M-k<Math.PI||M<k&&M-k<-Math.PI?1:-1]}function go(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=Math.sqrt(n*n+r*r),i=kr(t,e);return{transform:"translate("+t[0]+"px, "+t[1]+"px) rotate("+i+"rad)",width:o+"px"}}function mo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;return{transform:"translate("+t.reduce(function(t,e){return t+e[0]},0)/n+"px, "+t.reduce(function(t,e){return t+e[1]},0)/n+"px)"}}function _o(t,e,n,r){void 0===e&&(e=Ro(t)),void 0===r&&(r=n||"border-box"===e.boxSizing);var o=t.offsetWidth,i=t.offsetHeight,a=!qt(o);if((n||r)&&a)return[o,i];if(o=t.clientWidth,i=t.clientHeight,a||o||i)return n||r?[o+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),i+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[o-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),i-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)];var s=t.getBBox();return[s.width,s.height]}function yo(t,e,n,r){var o,i,a,s,u,l=0,c=0,f=0,p=0,d=[0,0],h=[0,0],v=[0,0],g=[0,0],m=[0,0],_=no(),y=no(),b=no(),x=no(),w=0,C=0,E=[0,0],S=1,k=1,M=!1,D="",N=[0,0],R={left:0,right:0,top:0,bottom:0,width:0,height:0},P={left:0,right:0,top:0,bottom:0,width:0,height:0},O=r?r.beforeMatrix:void 0,A=r?r.is3d?4:3:void 0;if(t){if(r)w=r.width,C=r.height;else{var z=Ro(t);w=t.offsetWidth,C=t.offsetHeight,qt(w)&&(w=(o=_o(t,z,!0))[0],C=o[1])}y=(i=so(t,e,O,A))[0],_=i[1],b=i[2],x=i[3],D=i[4],E=i[5],M=i[6],l=(s=(a=vo(b,E,w,C))[0])[0],c=s[1],f=s[2],p=s[3],d=a[1],h=a[2],v=a[3],g=a[4],m=a[5],S=a[6];var F;F=(u=vo(_,Ar(E,function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e-1;++r)n[r]=t[(r+1)*e-1];return n[e-1]=0,n}(x,M?4:3)),w,C))[0],N=u[1],k=u[6],N=[N[0]+F[0]-l,N[1]+F[1]-c],R=bo(t),P=bo(ao(n,n,!0).offsetParent||document.body)}return{containerRect:P,beforeDirection:k,direction:S,target:t,left:l,top:c,right:f,bottom:p,pos1:h,pos2:v,pos3:g,pos4:m,width:w,height:C,beforeMatrix:y,matrix:b,targetTransform:D,offsetMatrix:_,targetMatrix:x,is3d:M,beforeOrigin:N,origin:d,transformOrigin:E,clientRect:R}}function bo(t){var e=t.getBoundingClientRect(),n=e.left,r=e.width,o=e.top,i=e.bottom;return{left:n,right:e.right,top:o,bottom:i,width:r,height:e.height}}function xo(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return-1<e.indexOf("w")&&(n[0]=-1),-1<e.indexOf("e")&&(n[0]=1),-1<e.indexOf("n")&&(n[1]=-1),-1<e.indexOf("s")&&(n[1]=1),n}}}function wo(t,e){return[Ar(e,t[0]),Ar(e,t[1]),Ar(e,t[2]),Ar(e,t[3])]}function Co(t){var e=t.left,n=t.top;return wo([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function Eo(t,e){return e?Math.round(t/e)*e:t}function So(n,r){return n.forEach(function(t,e){n[e]=Eo(n[e],r)}),n}function ko(t,e){t[e]&&(t[e].unset(),t[e]=null)}function Mo(t,e,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Do(t,e,n){var r=e.datas;return r.datas||(r.datas={}),Ur({},n,{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,datas:r.datas})}function No(t,e,n){return t.triggerEvent(e,n)}function Ro(t,e){return window.getComputedStyle(t,e)}function Po(t,n){var r={},o={};return t.filter(function(e){var t=e.name;if(r[t]||!n.some(function(t){return e[t]}))return!1;if(e.ableGroup){if(o[t])return!1;o[t]=!0}return r[t]=!0})}function Oo(t,e,n){return t*(e?n:1/n)}function Ao(t,e,n){return t*(e?1/n:n)}function zo(n,t,e,r,o,i){var a="Start"===o;if(a&&-1<r.indexOf("Control")&&n.areaElement===i.inputEvent.target)return!1;var s=""+e+r+o,u=""+e+r+"Condition",l="End"===o;a&&n.updateRect(o,!0,!1);var c=-1<r.indexOf("Group"),f=n[t].filter(function(t){var e=a&&t[u];return!(!t[s]||e&&!e(i.inputEvent.target,n))&&t[s](n,i)}),p=f.length;a?function(t,e,n){var r=Do(t,n,{isPinch:!!n.isPinch}),o=e?"Group":"";e&&(r.targets=t.props.targets),No(t,"onRender"+o+"Start",r)}(n,c,i):l?function(t,e,n){var r=Do(t,n,{isPinch:!!n.sPinch,isDrag:n.isDrag}),o=e?"Group":"";e&&(r.targets=t.props.targets),No(t,"onRender"+o+"End",r)}(n,c,i):function(t,e,n){var r=Do(t,n,{isPinch:!!n.isPinch}),o=e?"Group":"";e&&(r.targets=t.props.targets),No(t,"onRender"+o,r)}(n,c,i),l&&(n.state.dragger=null),!a&&p?f.some(function(t){return t.updateRect})&&!c?n.updateRect(o):n.updateTarget(o):l&&!p&&n.forceUpdate()}function Fo(r,t,o,i){var a={container:window,pinchThreshold:r.props.pinchThreshold};return["drag","pinch"].forEach(function(n){["Start","","End"].forEach(function(e){a[""+n+e.toLowerCase()]=function(t){return zo(r,o,n,i,e,t)}})}),new sn(t,a)}var Go,To,Ho,jo,Yo,Xo=(Go="div",jo="rCS"+function(t){return Ve(t).toString(36)}(To=$r),Yo=0,function(e){function t(t){return e.call(this,t)||this}return function(t,e){function n(){this.constructor=t}Ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t.prototype.render=function(){var t=this.props,e=t.className,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["className"]);return ze(Go,Be({className:e+" "+jo},n))},t.prototype.componentDidMount=function(){0===Yo&&(Ho=Ie(jo,To)),++Yo},t.prototype.componentWillUnmount=function(){0==--Yo&&Ho&&Ho.parentNode.removeChild(Ho)},t.prototype.getElement=function(){return this.element||(this.element=je(this))},t}(k));function Lo(t,e,n,r){return or("div",{key:"line"+r,className:eo("line","direction",t),"data-direction":t,style:go(e,n)})}var Wo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={conatainer:null,target:null,beforeMatrix:no(),matrix:no(),targetMatrix:no(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],clientRect:{left:0,top:0,bottom:0,right:0,width:0,height:0},containerRect:{left:0,top:0,bottom:0,right:0,width:0,height:0}},t.targetAbles=[],t.controlAbles=[],t}qr(t,e);var n=t.prototype;return n.render=function(){var t=this.props,e=t.edge,n=t.parentPosition,r=t.className;this.checkUpdate();var o=n||{left:0,top:0},i=o.left,a=o.top,s=this.state,u=s.left,l=s.top,c=s.pos1,f=s.pos2,p=s.pos3,d=s.pos4,h=s.target,v=s.direction;return or(Xo,{ref:g(this,"controlBox"),className:eo("control-box",-1===v?"reverse":"")+" "+r,style:{position:"absolute",display:h?"block":"none",transform:"translate("+(u-i)+"px, "+(l-a)+"px) translateZ(50px)"}},this.renderAbles(),Lo(e?"n":"",c,f,0),Lo(e?"e":"",f,d,1),Lo(e?"w":"",c,p,2),Lo(e?"s":"",p,d,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container;this.updateEvent(t),n||e||this.updateRect("End",!1,!0)},n.componentDidUpdate=function(t){this.updateEvent(t)},n.componentWillUnmount=function(){ko(this,"targetDragger"),ko(this,"controlDragger")},n.getContainer=function(){var t=this.props,e=t.parentMoveable;return t.container||e&&e.getContainer()||this.controlBox.getElement().offsetParent},n.isMoveableElement=function(t){return t&&-1<(t.getAttribute("class")||"").indexOf(Ir)},n.dragStart=function(t){this.targetDragger&&this.targetDragger.onDragStart(t)},n.isInside=function(t,e){var n=this.state,r=n.pos1,o=n.pos2,i=n.pos3,a=n.pos4,s=n.target;if(!s)return!1;var u=s.getBoundingClientRect();return function(t,e,n,r,o){var i=[Mo(t,e,n),Mo(t,n,o),Mo(t,o,e)],a=[Mo(t,n,o),Mo(t,o,r),Mo(t,r,n)];return!!(i.every(function(t){return 0<=t})||i.every(function(t){return t<=0})||a.every(function(t){return 0<=t})||a.every(function(t){return t<=0}))}([t-u.left,e-u.top],r,o,a,i)},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props.parentMoveable,o=this.state,i=o.target||this.props.target,a=this.getContainer();this.updateState(yo(i,a,a,e?o:void 0),!r&&n)},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,r=this.controlAbles.length,o=this.props.target,i=t.target,a=this.props.dragArea,s=t.dragArea,u=!a&&i!==o,l=!n&&this.targetDragger||u||s!==a;l&&(ko(this,"targetDragger"),this.updateState({dragger:null})),r||ko(this,"controlDragger"),o&&n&&!this.targetDragger&&(this.targetDragger=Fo(this,a?this.areaElement:o,"targetAbles","")),!this.controlDragger&&r&&(this.controlDragger=Fo(this,e,"controlAbles","Control")),l&&this.unsetAbles()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=Co(this.state),e=t[0],n=t[1],r=t[2],o=t[3],i=po(t);return{width:i.width,height:i.height,left:i.left,top:i.top,pos1:e,pos2:n,pos3:r,pos4:o}},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,o=this.state,i=o.target,a=o.container;(i||e)&&(this.updateAbles(),i===e&&a===n||(this.updateState({target:e,container:n}),r||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.unsetAbles=function(){var e=this;this.targetAbles.filter(function(t){return!!t.unset&&(t.unset(e),!0)}).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,r=t.filter(function(t){return t&&n[t.name]}),o="drag"+e+"ControlStart",i=Po(r,["drag"+e+"Start","pinch"+e+"Start"]),a=Po(r,[o]);this.targetAbles=i,this.controlAbles=a},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var r in t)n[r]=t[r]}},n.renderAbles=function(){var e=this,n=this.props;return Po(n.ables.filter(function(t){return t&&n[t.name]}),["render"]).map(function(t){return(0,t.render)(e,br)})},t.defaultProps={target:null,container:null,origin:!0,keepRatio:!1,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:""},t}(dr);function qo(t){return kr([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var Uo={name:"pinchable",updateRect:!0,pinchStart:function(n,t){var r=t.datas,o=t.clientX,i=t.clientY,e=t.touches,a=t.inputEvent,s=t.targets,u=n.props,l=u.pinchable,c=u.ables;if(!l)return!1;var f="onPinch"+(s?"Group":"")+"Start",p="drag"+(s?"Group":"")+"ControlStart",d=(!0===l?n.controlAbles:c.filter(function(t){return-1<l.indexOf(t.name)})).filter(function(t){return t.canPinch&&t[p]}),h=Do(n,t,{});s&&(h.targets=s);var v=No(n,f,h);r.isPinch=!1!==v,r.ables=d;var g=r.isPinch;if(!g)return!1;var m=qo(e);return d.forEach(function(t){r[t.name+"Datas"]={};var e={datas:r[t.name+"Datas"],clientX:o,clientY:i,inputEvent:a,parentRotate:m,pinchFlag:!0};t[p](n,e)}),n.state.snapDirection=[0,0],g},pinch:function(e,t){var n=t.datas,r=t.clientX,o=t.clientY,i=t.scale,a=t.distance,s=t.touches,u=t.inputEvent,l=t.targets;if(n.isPinch){var c=qo(s),f=a*(1-1/i),p=Do(e,t,{});l&&(p.targets=l),No(e,"onPinch"+(l?"Group":""),p);var d=n.ables,h="drag"+(l?"Group":"")+"Control";return d.forEach(function(t){t[h](e,{clientX:r,clientY:o,datas:n[t.name+"Datas"],inputEvent:u,parentDistance:f,parentRotate:c,pinchFlag:!0})}),p}},pinchEnd:function(e,t){var n=t.datas,r=t.clientX,o=t.clientY,i=t.isPinch,a=t.inputEvent,s=t.targets;if(n.isPinch){var u="onPinch"+(s?"Group":"")+"End",l=Do(e,t,{isDrag:i});s&&(l.targets=s),No(e,u,l);var c=n.ables,f="drag"+(s?"Group":"")+"ControlEnd";return c.forEach(function(t){t[f](e,{clientX:r,clientY:o,isDrag:i,datas:n[t.name+"Datas"],inputEvent:a,pinchFlag:!0})}),i}},pinchGroupStart:function(t,e){return this.pinchStart(t,Ur({},e,{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Ur({},e,{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Ur({},e,{targets:t.props.targets}))}};function Bo(t,i,a,e,s,u){var n=i.name,l=e[n]||(e[n]=[]),c=!!a.match(/End$/g);return t.moveables.map(function(t,e){var n=l[e]||(l[e]={}),r=function(t){return typeof t===Ot}(s)?s(t,n):s,o=i[a](t,Ur({},r,{datas:n,parentFlag:!0}));return o&&u&&u(t,n,o,e),c&&(t.state.dragger=null),o})}function Vo(t){return Qt(t,eo("direction"))}function Io(t,e){var n=e.datas,r=t.state,o=r.matrix,i=r.beforeMatrix,a=r.is3d,s=r.left,u=r.top,l=r.origin,c=r.offsetMatrix,f=r.targetMatrix,p=r.transformOrigin,d=a?4:3;n.is3d=a,n.matrix=o,n.targetMatrix=f,n.beforeMatrix=i,n.offsetMatrix=c,n.transformOrigin=p,n.inverseMatrix=Er(o,d),n.inverseBeforeMatrix=Er(i,d),n.absoluteOrigin=Mr(Ar([s,u],l),d),n.startDragBeforeDist=Fr(n.inverseBeforeMatrix,n.absoluteOrigin,d),n.startDragDist=Fr(n.inverseMatrix,n.absoluteOrigin,d)}function $o(t,e){var n=t.datas,r=t.distX,o=t.distY,i=n.inverseBeforeMatrix,a=n.inverseMatrix,s=n.is3d,u=n.startDragBeforeDist,l=n.startDragDist,c=s?4:3;return zr(Fr(e?i:a,Ar(n.absoluteOrigin,[r,o]),c),e?u:l)}function Ko(t){var e=[];return 0<=t[1]&&(0<=t[0]&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(0<=t[0]&&e.push(1),t[0]<=0&&e.push(0)),e}function Zo(e,t){return Ko(t).map(function(t){return e[t]})}function Jo(t,e){var n=Zo(t,e);return[Or.apply(void 0,n.map(function(t){return t[0]})),Or.apply(void 0,n.map(function(t){return t[1]}))]}function Qo(t,e){var n=t[0],r=t[1],o=t[2];return Jo([t[3],o,r,n],e)}function ti(t,e){return Qo([t[0],t[1],t[2],t[3]],e)}function ei(t,e,n,r,o,i){var a=Qo(fo(e,n,r,o),i);return[t[0]-a[0],t[1]-a[1]]}function ni(t,e,n,r){return Rr(t,ro(e,r,n),r)}function ri(t,e){var n=t.transformOrigin,r=t.offsetMatrix,o=t.is3d?4:3;return ni(r,Rr(t.targetMatrix,Yr(e,o),o),n,o)}function oi(t,e,n,r,o,i){var a=t.props.groupable,s=t.state,u=s.transformOrigin,l=s.targetMatrix,c=s.offsetMatrix,f=s.is3d,p=s.width,d=s.height,h=s.left,v=s.top,g=f?4:3,m=a?h:0,_=a?v:0,y=ni(c,l,function(t,s,u,l,c,f){return void 0===l&&(l=s),void 0===c&&(c=u),void 0===f&&(f=[0,0]),t?t.map(function(t,e){var n=Kt(t),r=n.value,o=n.unit,i=e?c:l,a=e?u:s;return"%"===t||isNaN(r)?a*(i?f[e]/i:0):"%"!==o?r:a*r/100}):f}(o,e,n,p,d,u),g);return zr(ei(i||ti(Co(t.state),r),y,e,n,g,r),[m,_])}function ii(t){var e=t.state;if(!e.guidelines||!e.guidelines.length){var n=t.props,r=n.horizontalGuidelines,o=void 0===r?[]:r,i=n.verticalGuidelines,a=void 0===i?[]:i,s=n.elementGuidelines,u=void 0===s?[]:s,l=n.bounds,c=n.snapCenter;if(l||o.length||a.length||u.length){var f=e.containerRect,p=f.width,d=f.height,h=f.top,v=f.left,g=e.clientRect,m=g.top,_=g.left,y=e.left,b=e.top,x=y-(_-v),w=b-(m-h),C=[];o.forEach(function(t){C.push({type:"horizontal",pos:[0,t],size:p})}),a.forEach(function(t){C.push({type:"vertical",pos:[t,0],size:d})}),u.forEach(function(t){var e=t.getBoundingClientRect(),n=e.top,r=e.left,o=e.width,i=e.height,a=n-h,s=a+i,u=r-v,l=u+o;C.push({type:"vertical",element:t,pos:[u+x,a],size:i}),C.push({type:"vertical",element:t,pos:[l+x,a],size:i}),C.push({type:"horizontal",element:t,pos:[u,a+w],size:o}),C.push({type:"horizontal",element:t,pos:[u,s+w],size:o}),c&&(C.push({type:"vertical",element:t,pos:[(u+l)/2+x,a],size:i,center:!0}),C.push({type:"horizontal",element:t,pos:[u,(a+s)/2+w],size:o,center:!0}))}),e.guidelines=C,e.enableSnap=!0}}}function ai(t,e,n,r){return{vertical:si(t,e,!0,r),horizontal:si(t,n,!1,r)}}function si(t,e,n,r){void 0===r&&(r=0);var o=t.props.bounds;if(o){var i=o[n?"left":"top"],a=o[n?"right":"bottom"],s=Math.min.apply(Math,e),u=Math.max.apply(Math,e);if(!qt(i)&&s<i+r)return{isBound:!0,offset:s-i,pos:i};if(!qt(a)&&a-r<u)return{isBound:!0,offset:u-a,pos:a}}return{isBound:!1,offset:0,pos:0}}function ui(t,s,e,u,l){if(!t)return{isSnap:!1,dist:-1,offset:0,guidelines:[],snapPoses:[]};var c=[],f=1/0,p=0,d="vertical"===s?0:1,n=e.filter(function(a){return t.filter(function(t){var e=t.type,n=t.pos,r=t.center;if(!u&&r||e!==s)return!1;var o=a-n[d],i=Math.abs(o);return!(l<i)&&(i<f&&(f=i,c=[]),f===i&&(p=o,c.push(t)),!0)}).length});return{isSnap:!!c.length,dist:isFinite(f)?f:-1,offset:p,guidelines:c,snapPoses:n}}function li(t,e){var n=t.props,r=n.snappable,o=n.bounds,i=t.state,a=i.guidelines,s=i.enableSnap;return!(!r||!s||e&&!0!==r&&r.indexOf(e)||!(o||a&&a.length))}function ci(t,e,n,r,o){var i=t.state.guidelines,a=qt(o)?qt(t.props.snapThreshold)?5:t.props.snapThreshold:o;return{vertical:ui(i,"vertical",e,r,a),horizontal:ui(i,"horizontal",n,r,a)}}function fi(t,e,n,r){var o=t.props.snapCenter&&n,i=["left","right"],a=["top","bottom"];return o&&(i.push("center"),a.push("middle")),i=i.filter(function(t){return t in e}),a=a.filter(function(t){return t in e}),ci(t,i.map(function(t){return e[t]}),a.map(function(t){return e[t]}),o,r)}function pi(t,e){var n=ai(t,[e[0]],[e[1]]),r=n.horizontal,o=r.isBound,i=r.offset,a=n.vertical,s=a.isBound,u=a.offset;if(o||s){var l=void 0,c=(l=o&&s?Math.abs(i)<Math.abs(u):s)?u:i;return{isVertical:l,offset:c,dist:Math.abs(c)}}}function di(t,e,n,r,o,i){var a=function(t,e,n,r){var o=e[0]-t[0],i=e[1]-t[1];if(!o)return r?void 0:[0,n];if(!i)return r?[n,0]:void 0;var a=i/o,s=t[1]-a*t[0];{if(r){var u=a*(e[0]+n)+s;return[n,u-e[1]]}return[(e[1]+n-s)/a-e[0],n]}}(t,e,-n,r);if(!a)return NaN;var s=$o({datas:i,distX:a[0],distY:a[1]}),u=s[0],l=s[1];return o?l:u}function hi(t,e,n,r,o,i){var a=fo(t,e,n,i?4:3);return wo(a,zr(r,Qo(a,o)))}function vi(r,t,o,i,a){var n,s=0,u=-1;if(t.map(function(t){return pi(r,t)}).forEach(function(t,e){t&&(!n||n.dist<t.dist)&&(n=t,u=e)}),n){var e=di(o[u],t[u],n.offset,n.isVertical,i,a);isNaN(e)||(s=e)}else t.some(function(t,e){var n=function(t,e,n,r,o){var i,a=ci(t,[e[0]],[e[1]]),s=a.horizontal,u=s.isSnap,l=s.offset,c=s.dist,f=a.vertical,p=f.isSnap,d=f.offset,h=f.dist,v=n[1]===e[1],g=n[0]===e[0];return u||p?di(n,e,(i=u&&p?0===c&&v||(0!==d||!g)&&h<c:p)?d:l,i,r,o):NaN}(r,t,o[e],i,a);return!isNaN(n)&&(s=n,!0)});return s}function gi(t,e,n,r,o,i,a,s){var u=Qo(Co(t.state),i),l=hi(e,n,r,u,o,s);return o[0]&&o[1]?function(t,e,n,r,o,i,a,s,u){var l,c=Zo(e,n),f=[n[0],-1*n[1]],p=[-1*n[0],n[1]],d=Jo(e,f),h=Jo(e,p),v=ai(t,[c[0][0]],[c[0][1]]),g=v.horizontal,m=g.isBound,_=g.offset,y=v.vertical,b=y.isBound,x=y.offset,w=0,C=0,E=pi(t,d),S=pi(t,h),k=E&&E.dist>Math.abs(x),M=S&&S.dist>Math.abs(_);if(k||M)if(k){var D=di(Jo(e,[-1*f[0],f[1]]),d,E.offset,E.isVertical,!1,r);isNaN(D)||(w=D),C=vi(t,[Jo(N=hi(o,i+n[0]*w,a+n[1]*C,s,n,u),n)],[Jo(N,f)],!0,r)}else{var N;D=di(Jo(e,[-1*p[0],p[1]]),d,S.offset,S.isVertical,!0,r);isNaN(D)||(C=D),w=vi(t,[Jo(N=hi(o,i+n[0]*w,a+n[1]*C,s,n,u),n)],[Jo(N,p)],!1,r)}else{var R=ci(t,[c[0][0]],[c[0][1]]),P=R.horizontal.offset,O=R.vertical.offset;w=(l=$o({datas:r,distX:-(b?x:O),distY:-(m?_:P)}))[0],C=l[1]}return[n[0]*w,n[1]*C]}(t,l,o,a,e,n,r,u,s):function(t,e,n,r){var o,i,a=0!==n[0]?0:1,s=0<a,u=e.slice().reverse();t.props.keepRatio?(o=[Jo(e,n)],i=[Jo(u,n)]):(o=Zo(e,n),i=Zo(u,n),o.push([(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]),i.reverse(),i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));var l=vi(t,o,i,s,r),c=[0,0];return c[a]=n[a]*l,c}(t,l,o,a)}var mi={name:"snappable",render:function(t,i){var e=t.state,a=e.top,s=e.left,n=e.pos1,r=e.pos2,o=e.pos3,u=e.pos4,l=e.snapDirection,c=e.clientRect,f=e.containerRect,p=c.left-f.left,d=c.top-f.top,h=Math.min(n[0],r[0],o[0],u[0]),v=Math.min(n[1],r[1],o[1],u[1]);if(!l||!li(t,""))return[];var g=Co(t.state),m=po(g),_=m.width,y=m.height,b=m.top,x=m.left,w=m.bottom,C=m.right,E=function(t,e,n){if(!0===n){var r=po(e);return r.middle=(r.top+r.bottom)/2,r.center=(r.left+r.right)/2,fi(t,r,!0,1)}if(n[0]||n[1]){i=void 0;return t.props.keepRatio?i=[Jo(e,n)]:1<(i=Zo(e,n)).length&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]),ci(t,i.map(function(t){return t[0]}),i.map(function(t){return t[1]}),!0,1)}for(var o=[e[0],e[1],e[3],e[2],e[0]],i=[],a=0;a<4;++a)i.push(o[a]),e.push([(o[a][0]+o[a+1][0])/2,(o[a][1]+o[a+1][1])/2]);return ci(t,i.map(function(t){return t[0]}),i.map(function(t){return t[1]}),!0,1)}(t,g,l),S=E.vertical,k=S.guidelines,M=S.snapPoses,D=E.horizontal,N=D.guidelines,R=D.snapPoses,P=ai(t,[x,C],[b,w],1),O=P.vertical,A=O.isBound,z=O.pos,F=P.horizontal,G=F.isBound,T=F.pos;return A&&M.indexOf(z)<0&&M.push(z),G&&R.indexOf(T)<0&&R.push(T),M.map(function(t,e){return i.createElement("div",{className:eo("line","vertical","guideline","target","bold"),key:"verticalTargetGuidline"+e,style:{top:v+"px",left:-s+t+"px",height:y+"px"}})}).concat(R.map(function(t,e){return i.createElement("div",{className:eo("line","horizontal","guideline","target","bold"),key:"horizontalTargetGuidline"+e,style:{top:-a+t+"px",left:h+"px",width:_+"px"}})}),k.map(function(t,e){var n=t.pos,r=t.size,o=t.element;return i.createElement("div",{className:eo("line","vertical","guideline",o?"bold":""),key:"verticalGuidline"+e,style:{top:v-d+n[1]+"px",left:-s+n[0]+"px",height:r+"px"}})}),N.map(function(t,e){var n=t.pos,r=t.size,o=t.element;return i.createElement("div",{className:eo("line","horizontal","guideline",o?"bold":""),key:"horizontalGuidline"+e,style:{top:-a+n[1]+"px",left:h-p+n[0]+"px",width:r+"px"}})}))},dragStart:function(t,e){t.state.snapDirection=!0,ii(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:Vo,dragControlStart:function(t,e){t.state.snapDirection=null,ii(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){t.state.snapDirection=!0,ii(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,e){t.state.snapDirection=null,ii(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapDirection=null}},_i={name:"draggable",dragStart:function(t,e){var n=e.datas,r=e.parentEvent,o=e.parentDragger,i=t.state,a=i.targetTransform,s=i.target;if(i.dragger)return!1;i.dragger=o||t.targetDragger;var u=window.getComputedStyle(s);n.datas={},n.left=parseFloat(u.left||"")||0,n.top=parseFloat(u.top||"")||0,n.bottom=parseFloat(u.bottom||"")||0,n.right=parseFloat(u.right||"")||0,n.transform=a,n.startTranslate=[0,0],Io(t,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,function(t,e){e.absolutePoses=Co(t.state)}(t,n);var l=Do(t,e,{set:function(t){n.startTranslate=t}});return!1!==(r||No(t,"onDragStart",l))?n.isDrag=!0:(i.dragger=null,n.isPinch=!1),!!n.isDrag&&l},drag:function(t,e){var n=e.datas,r=e.parentEvent,o=e.parentFlag,i=e.distX,a=e.distY,s=n.isPinch,u=n.isDrag,l=n.prevDist,c=n.prevBeforeDist,f=n.transform,p=n.startTranslate;if(u){var d=t.props,h=d.parentMoveable,v=r?0:d.throttleDrag||0,g=!1;if(!s&&!r&&!o){var m=function(t,e,n,r){var o={isSnap:!1,offset:0},i={isSnap:!1,offset:0};if(!li(t,"draggable"))return[o,i];var a=po(wo(r.absolutePoses,[e,n])),s=a.left,u=a.right,l=a.top,c=a.bottom,f=fi(t,{left:s,right:u,top:l,bottom:c,center:(s+u)/2,middle:(l+c)/2},!0),p=ai(t,[s,u],[l,c]);return p.vertical.isBound?(o.offset=p.vertical.offset,o.isSnap=!0):f.vertical.isSnap&&(o.offset=f.vertical.offset,o.isSnap=!0),p.horizontal.isBound?(i.offset=p.horizontal.offset,i.isSnap=!0):f.horizontal.isSnap&&(i.offset=f.horizontal.offset,i.isSnap=!0),[o,i]}(t,i,a,n),_=m[0],y=m[1];g=_.isSnap||y.isSnap,i-=_.offset,a-=y.offset}n.passDistX=i,n.passDistY=a;var b=Ar($o({datas:n,distX:i,distY:a},!0),p),x=Ar($o({datas:n,distX:i,distY:a},!1),p);g||(So(x,v),So(b,v));var w=zr(b,p),C=zr(x,p),E=zr(C,l),S=zr(w,c);n.prevDist=C,n.prevBeforeDist=w;var k=n.left+w[0],M=n.top+w[1],D=n.right-w[0],N=n.bottom-w[1],R=f+" translate("+C[0]+"px, "+C[1]+"px)";if(r||h||!E.every(function(t){return!t})||!S.some(function(t){return!t})){var P=Do(t,e,{transform:R,dist:C,delta:E,translate:x,beforeDist:w,beforeDelta:S,beforeTranslate:b,left:k,top:M,right:D,bottom:N,isPinch:s});return r||No(t,"onDrag",P),P}}},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas,o=e.isDrag;if(r.isDrag)return t.state.dragger=null,r.isDrag=!1,n||No(t,"onDragEnd",Do(t,e,{isDrag:o})),o},dragGroupStart:function(t,e){var n=e.datas,r=this.dragStart(t,e);if(!r)return!1;var o=Bo(t,this,"dragStart",n,e),i=No(t,"onDragGroupStart",Ur({},r,{targets:t.props.targets,events:o}));return n.isDrag=!1!==i,!!n.isDrag&&r},dragGroup:function(t,e){var n=e.datas;if(n.isDrag){var r=this.drag(t,e),o=e.datas,i=o.passDistX,a=o.passDistY,s=Bo(t,this,"drag",n,Ur({},e,{distX:i,distY:a}));if(r){var u=Ur({targets:t.props.targets,events:s},r);return No(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isDrag)return this.dragEnd(t,e),Bo(t,this,"dragEnd",r,e),No(t,"onDragGroupEnd",Do(t,e,{targets:t.props.targets,isDrag:n})),n}};function yi(t,e,n){return Ur({},t.dragger.move(e,n),{parentEvent:!0})}var bi=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={}}var e=t.prototype;return e.dragStart=function(t,e){return this.isDrag=!1,this.isFlag=!1,this.datas={},this.move(t,e)},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,r;return this.isFlag?(n=this.prevX+t[0],r=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0),{clientX:this.prevX=n,clientY:this.prevY=r,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas,parentEvent:!0,parentDragger:this}},t}();function xi(t,e,n,r,o){t.startAbsoluteOrigin=[e-o[0]+r[0],n-o[1]+r[1]],t.prevDeg=kr(t.startAbsoluteOrigin,[e,n])/Math.PI*180,t.startDeg=t.prevDeg,t.loop=0}function wi(t,e,n,r,o){var i=t.prevDeg,a=t.startDeg,s=t.loop;e<i&&270<i&&e<90?++t.loop:i<e&&i<90&&270<e&&--t.loop;var u=t.loop,l=360*s+i-a+r,c=360*u+e-a+r,f=n*((c=Eo(c,o))-l),p=n*(c-r);return t.prevDeg=c-360*u+a-r,[f,p,c]}function Ci(t,e,n,r,o,i){return wi(t,kr(t.startAbsoluteOrigin,[n,r])/Math.PI*180,e,o,i)}function Ei(t,e,n,r,o){return"left"===t?[r,e]:"right"===t?[n,o]:"bottom"===t?[o,r]:[e,n]}function Si(t,e){return kr(0<e?t[0]:t[1],0<e?t[1]:t[0])}function ki(t){return Qt(t,eo("rotation"))}var Mi={name:"rotatable",canPinch:!0,render:function(t,e){var n=t.props,r=n.rotatable,o=n.rotationPosition;if(!r)return null;var i=t.state,a=i.pos1,s=i.pos2,u=i.pos3,l=i.pos4,c=i.direction,f=Ei(o,a,s,u,l),p=Si(f,c);return e.createElement("div",{key:"rotation",className:eo("line rotation-line"),style:{transform:"translate("+(f[0][0]+f[1][0])/2+"px, "+(f[0][1]+f[1][1])/2+"px) translateY(-40px) rotate("+p+"rad)"}},e.createElement("div",{className:eo("control","rotation")}))},dragControlCondition:ki,dragControlStart:function(t,e){var n=e.datas,r=e.clientX,o=e.clientY,i=e.parentRotate,a=e.parentFlag,s=e.pinchFlag,u=t.state,l=u.target,c=u.left,f=u.top,p=u.origin,d=u.beforeOrigin,h=u.direction,v=u.beforeDirection,g=u.targetTransform,m=u.pos1,_=u.pos2,y=u.pos3,b=u.pos4;if(!l)return!1;n.transform=g,n.left=c,n.top=f;var x=Ei(t.props.rotationPosition,m,_,y,b),w=function(t,e){var n=t[0],r=t[1],o=Gr([0,-40,1],e);return[(n[0]+r[0])/2+o[0],(n[1]+r[1])/2+o[1]]}(x,Si(x,h));s||a?(n.beforeInfo={prevDeg:i,startDeg:i,loop:0},n.afterInfo={prevDeg:i,startDeg:i,loop:0}):(n.afterInfo={},n.beforeInfo={},xi(n.afterInfo,r,o,p,w),xi(n.beforeInfo,r,o,d,w)),n.direction=h,n.beforeDirection=v,n.startRotate=0,n.datas={};var C=Do(t,e,{set:function(t){n.startRotate=t}}),E=No(t,"onRotateStart",C);return n.isRotate=!1!==E,!!n.isRotate&&C},dragControl:function(t,e){var n,r,o,i,a=e.datas,s=e.clientX,u=e.clientY,l=e.parentRotate,c=e.parentFlag,f=e.pinchFlag,p=a.direction,d=a.beforeDirection,h=a.beforeInfo,v=a.afterInfo,g=a.isRotate,m=a.startRotate;if(g){var _,y,b,x,w,C,E=t.props,S=E.throttleRotate,k=void 0===S?0:S,M=E.parentMoveable;if(C=f||c?(_=(n=wi(v,l,p,m,k))[0],y=n[1],b=n[2],x=(r=wi(h,l,p,m,k))[0],w=r[1],r[2]):(_=(o=Ci(v,p,s,u,m,k))[0],y=o[1],b=o[2],x=(i=Ci(h,d,s,u,m,k))[0],w=i[1],i[2]),_||x||M){var D=Do(t,e,{delta:_,dist:y,rotate:b,beforeDist:w,beforeDelta:x,beforeRotate:C,transform:a.transform+" rotate("+y+"deg)",isPinch:!!f});return No(t,"onRotate",D),D}}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,No(t,"onRotateEnd",Do(t,e,{isDrag:r})),r)},dragGroupControlCondition:ki,dragGroupControlStart:function(t,e){var n=e.datas,u=e.inputEvent,r=t.state,l=r.left,c=r.top,f=r.beforeOrigin,o=this.dragControlStart(t,e);if(!o)return!1;var i=Bo(t,this,"dragControlStart",n,Ur({},e,{parentRotate:0}),function(t,e,n){var r=t.state,o=r.left,i=r.top,a=r.beforeOrigin,s=Ar(zr([o,i],[l,c]),zr(a,f));e.prevClient=s,n.dragStart=_i.dragStart(t,(new bi).dragStart(s,u))}),a=No(t,"onRotateGroupStart",Ur({},o,{targets:t.props.targets,events:i}));return n.isRotate=!1!==a,!!n.isDrag&&o},dragGroupControl:function(t,e){var p=e.inputEvent,n=e.datas;if(n.isRotate){var r=this.dragControl(t,e);if(r){var o=r.beforeDist,d=r.beforeDelta/180*Math.PI,i=Bo(t,this,"dragControl",n,Ur({},e,{parentRotate:o}),function(t,e,n,r){var o=e.prevClient,i=o[0],a=o[1],s=Gr([i,a],d),u=s[0],l=s[1],c=[u-i,l-a];e.prevClient=[u,l];var f=_i.drag(t,yi(t.state,c,p));n.drag=f}),a=Ur({targets:t.props.targets,events:i},r);return t.rotation+=r.beforeDelta,No(t,"onRotateGroup",a),a}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isRotate)return this.dragControlEnd(t,e),Bo(t,this,"dragControlEnd",r,e),No(t,"onRotateGroupEnd",Do(t,e,{targets:t.props.targets,isDrag:n})),n}};function Di(t,e,n){var r=t.state,o=r.pos1,i=r.pos2,a=r.pos3,s=r.pos4,u=t.props.renderDirections,l=void 0===u?e:u,c=[o,i,a,s],f={};return l.forEach(function(t){f[t]=!0}),l.map(function(t){var e=Qr[t];return e&&f[t]?n.createElement("div",{className:eo("control","direction",t),"data-direction":t,key:t,style:mo.apply(void 0,e.map(function(t){return c[t]}))}):null})}function Ni(t,e){return Di(t,["nw","ne","sw","se","n","w","s","e"],e)}function Ri(t,e){return Di(t,["nw","ne","sw","se"],e)}var Pi={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,render:function(t,e){var n=t.props,r=n.resizable,o=n.edge;if(r)return o?Ri(t,e):Ni(t,e)},dragControlCondition:Vo,dragControlStart:function(t,e){var n=e.inputEvent,r=e.pinchFlag,o=e.datas,i=n.target,a=r?[1,1]:xo(i),s=t.state,u=s.target,l=s.width,c=s.height;if(!a||!u)return!1;r||Io(t,{datas:o}),o.datas={},o.direction=a,o.offsetWidth=l,o.offsetHeight=c,o.prevWidth=0,o.prevHeight=0,o.width=l,o.height=c,o.transformOrigin=t.props.transformOrigin;var f=Do(t,e,{direction:a,set:function(t){var e=t[0],n=t[1];o.width=e,o.height=n},setOrigin:function(t){o.transformOrigin=t},dragStart:_i.dragStart(t,(new bi).dragStart([0,0],n))});return!1!==No(t,"onResizeStart",f)&&(o.isResize=!0,t.state.snapDirection=a),!!o.isResize&&f},dragControl:function(t,e){var n=e.datas,r=e.distX,o=e.distY,i=e.parentFlag,a=e.pinchFlag,s=e.parentDistance,u=e.parentScale,l=e.inputEvent,c=e.dragClient,f=n.direction,p=n.width,d=n.height,h=n.offsetWidth,v=n.offsetHeight,g=n.prevWidth,m=n.prevHeight,_=n.isResize,y=n.transformOrigin;if(_){var b=t.props,x=b.throttleResize,w=void 0===x?0:x,C=b.parentMoveable,E=t.props.keepRatio||u,S=f[0]||!f[1],k=S?v/h:h/v,M=0,D=0;if(u)M=(u[0]-1)*h,D=(u[1]-1)*v;else if(a)s&&(D=(M=s)*v/h);else{var N=$o({datas:n,distX:r,distY:o});if(M=f[0]*N[0],D=f[1]*N[1],E&&h&&v){var R=kr([0,0],N),P=kr([0,0],f),O=kr([0,0],[h,v]),A=Math.sqrt(M*M+D*D),z=Math.cos(R-P)*A;f[0]?D=f[1]?(M=Math.cos(O)*z,Math.sin(O)*z):Oo(M=z,S,k):M=Ao(D=z,S,k)}}var F=f[0]||E?Math.max(h+M,0):h,G=f[1]||E?Math.max(v+D,0):v,T=[0,0];if(a||(T=function(t,e,n,r,o){if(!li(t,"resizable"))return[0,0];var i=t.state;return gi(t,i.matrix,e,n,r,r,o,i.is3d)}(t,F,G,f,n)),E){f[0]&&f[1]&&T[0]&&T[1]&&(Math.abs(T[0])>Math.abs(T[1])?T[1]=0:T[0]=0);var H=!T[0]&&!T[1];H&&(S?F=Eo(F,w):G=Eo(G,w)),f[0]&&!f[1]||T[0]&&!T[1]||H&&S?G=Oo(F+=T[0],S,k):(!f[0]&&f[1]||!T[0]&&T[1]||H&&!S)&&(F=Ao(G+=T[1],S,k))}else T[0]||(F=Eo(F,w)),T[1]||(G=Eo(G,w));var j=[(M=(F=Math.round(F))-h)-g,(D=(G=Math.round(G))-v)-m];if(n.prevWidth=M,n.prevHeight=D,C||!j.every(function(t){return!t})){var Y=!i&&a?[0,0]:oi(t,F,G,f,y,c),X=Do(t,e,{width:p+M,height:d+D,offsetWidth:F,offsetHeight:G,direction:f,dist:[M,D],delta:j,isPinch:!!a,drag:_i.drag(t,yi(t.state,Y,l))});return No(t,"onResize",X),X}}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isResize&&(n.isResize=!1,No(t,"onResizeEnd",Do(t,e,{isDrag:r})),r)},dragGroupControlCondition:Vo,dragGroupControlStart:function(a,s){var t=s.datas,e=this.dragControlStart(a,s);if(!e)return!1;var u=e.direction,l=Qo(Co(a.state),u),n=Bo(a,this,"dragControlStart",t,function(t,e){var n=Qo(Co(t.state),u),r=Fr(Hr(-a.rotation/180*Math.PI,3),[n[0]-l[0],n[1]-l[1],1],3),o=r[0],i=r[1];return e.originalX=o,e.originalY=i,s}),r=Ur({},e,{targets:a.props.targets,events:n}),o=No(a,"onResizeGroupStart",r);return t.isResize=!1!==o,!!t.isResize&&e},dragGroupControl:function(i,a){var t=a.datas;if(t.isResize){var e=this.dragControl(i,a);if(e){var n=e.offsetWidth,r=e.offsetHeight,o=e.dist,s=e.direction,u=[n/(n-o[0]),r/(r-o[1])],l=Qo(Co(i.state),s),c=Bo(i,this,"dragControl",t,function(t,e){var n=Fr(Hr(i.rotation/180*Math.PI,3),[e.originalX*u[0],e.originalY*u[1],1],3),r=n[0],o=n[1];return Ur({},a,{parentScale:u,dragClient:Ar(l,[r,o])})}),f=Ur({targets:i.props.targets,events:c},e);return No(i,"onResizeGroup",f),f}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isResize)return this.dragControlEnd(t,e),Bo(t,this,"dragControlEnd",r,e),No(t,"onResizeGroupEnd",Do(t,e,{targets:t.props.targets,isDrag:n})),n}},Oi={name:"scalable",ableGroup:"size",canPinch:!0,render:function(t,e){var n=t.props,r=n.resizable,o=n.scalable,i=n.edge;if(!r&&o)return i?Ri(t,e):Ni(t,e)},dragControlCondition:Vo,dragControlStart:function(t,e){var n=e.datas,r=e.pinchFlag,o=e.inputEvent,i=o.target,a=r?[1,1]:xo(i),s=t.state,u=s.width,l=s.height,c=s.targetTransform,f=s.target;if(!a||!f)return!1;r||Io(t,{datas:n}),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=a,n.width=u,n.height=l,n.startScale=[1,1];var p=Do(t,e,{direction:a,set:function(t){n.startScale=t},dragStart:_i.dragStart(t,(new bi).dragStart([0,0],o))});return!1!==No(t,"onScaleStart",p)&&(n.isScale=!0,t.state.snapDirection=a),!!n.isScale&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,o=e.distY,i=e.parentScale,a=e.parentDistance,s=e.parentFlag,u=e.pinchFlag,l=e.inputEvent,c=e.dragClient,f=n.prevDist,p=n.direction,d=n.width,h=n.height,v=n.transform,g=n.isScale,m=n.startScale;if(!g)return!1;var _=t.props,y=_.throttleScale,b=_.parentMoveable,x=t.props.keepRatio||i,w=t.state,C=p[0]||!p[1],E=1,S=1,k=d*m[0],M=h*m[1],D=C?M/k:k/M;if(i)E=i[0],S=i[1];else if(u)a&&(E=(d+a)/d,S=(h+a*h/d)/h);else{var N=$o({datas:n,distX:r,distY:o}),R=p[0]*N[0],P=p[1]*N[1];if(x&&d&&h){var O=kr([0,0],N),A=kr([0,0],p),z=kr([0,0],[k,M]),F=Math.sqrt(R*R+P*P),G=Math.cos(O-A)*F;p[0]?P=p[1]?(R=Math.cos(z)*G,Math.sin(z)*G):Oo(R=G,C,D):R=Ao(P=G,C,D)}E=(d+R)/d,S=(h+P)/h}E=p[0]?E*m[0]:m[0],S=p[1]?S*m[1]:m[1],0===E&&(E=1e-9*(0<f[0]?1:-1)),0===S&&(S=1e-9*(0<f[1]?1:-1));var T,H=[E/m[0],S/m[1]],j=p;if(t.props.groupable){j=[(0<=H[0]?1:-1)*p[0],(0<=H[1]?1:-1)*p[1]];var Y=w.snapDirection;Bt(Y)&&(Y[0]||Y[1])&&(w.snapDirection=j)}var X=[0,0];if(u||(X=function(t,e,n,r,o){var i=o.width,a=o.height;if(!li(t,"scalable"))return[0,0];var s=gi(t,ri(o,e),i,a,n,r,o,o.is3d);return[s[0]/i,s[1]/a]}(t,H,p,j,n)),x){p[0]&&p[1]&&X[0]&&X[1]&&(Math.abs(X[0])>Math.abs(X[1])?X[1]=0:X[0]=0);var L=!X[0]&&!X[1];if(L&&(C?H[0]=Eo(H[0]*m[0],y)/m[0]:H[1]=Eo(H[1]*m[1],y)/m[1]),p[0]&&!p[1]||X[0]&&!X[1]||L&&C){H[0]+=X[0];var W=Oo(d*H[0]*m[0],C,D);H[1]=W/h/m[1]}else if(!p[0]&&p[1]||!X[0]&&X[1]||L&&!C){H[1]+=X[1];var q=Ao(h*H[1]*m[1],C,D);H[0]=q/d/m[0]}}else X[0]||(H[0]=Eo(H[0]*m[0],y)/m[0]),X[1]||(H[1]=Eo(H[1]*m[1],y)/m[1]);var U=[H[0]/f[0],H[1]/f[1]];if(T=to(H,m),n.prevDist=H,E===f[0]&&S===f[1]&&!b)return!1;var B=!s&&u?[0,0]:function(t,e,n,r){var o=t.state,i=o.is3d,a=o.left,s=o.top,u=o.width,l=o.height,c=i?4:3,f=t.props.groupable,p=ri(t.state,e),d=f?a:0,h=f?s:0;return zr(ei(r||ti(Co(t.state),n),p,u,l,c,n),[d,h])}(t,U,p,c),V=Do(t,e,{scale:T,direction:p,dist:H,delta:U,transform:v+" scale("+E+", "+S+")",isPinch:!!u,drag:_i.drag(t,yi(t.state,B,l))});return No(t,"onScale",V),V},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isScale&&(n.isScale=!1,No(t,"onScaleEnd",Do(t,e,{isDrag:r})),r)},dragGroupControlCondition:Vo,dragGroupControlStart:function(a,s){var t=s.datas,e=this.dragControlStart(a,s);if(!e)return!1;var u=e.direction,l=Qo(Co(a.state),u),n=Bo(a,this,"dragControlStart",t,function(t,e){var n=Qo(Co(t.state),u),r=Fr(Hr(-a.rotation/180*Math.PI,3),[n[0]-l[0],n[1]-l[1],1],3),o=r[0],i=r[1];return e.originalX=o,e.originalY=i,s}),r=Ur({},e,{targets:a.props.targets,events:n}),o=No(a,"onScaleGroupStart",r);return t.isScale=!1!==o,!!t.isScale&&r},dragGroupControl:function(i,a){var t=a.datas;if(t.isScale){var e=this.dragControl(i,a);if(e){var s=e.scale,n=e.direction,r=e.dist,u=Qo(Co(i.state),to(n,r)),o=Bo(i,this,"dragControl",t,function(t,e){var n=Fr(Hr(i.rotation/180*Math.PI,3),[e.originalX*s[0],e.originalY*s[1],1],3),r=n[0],o=n[1];return Ur({},a,{parentScale:s,dragClient:Ar(u,[r,o])})}),l=Ur({targets:i.props.targets,events:o},e);return No(i,"onScaleGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isScale)return this.dragControlEnd(t,e),Bo(t,this,"dragControlEnd",r,e),No(t,"onScaleGroupEnd",Do(t,e,{targets:t.props.targets,isDrag:n})),n}};function Ai(t,n){return t.map(function(t,e){return function(t,e,n,r){return(t*r+e*n)/(n+r)}(t,n[e],1,2)})}function zi(t,e,n){var r=kr(t,e),o=kr(t,n)-r;return 0<=o?o:o+2*Math.PI}var Fi={name:"warpable",ableGroup:"size",render:function(t,e){var n=t.props,r=n.resizable,o=n.scalable,i=n.warpable;if(!r&&!o&&i){var a=t.state,s=a.pos1,u=a.pos2,l=a.pos3,c=a.pos4,f=Ai(s,u),p=Ai(u,s),d=Ai(s,l),h=Ai(l,s),v=Ai(l,c),g=Ai(c,l),m=Ai(u,c),_=Ai(c,u);return[e.createElement("div",{className:eo("line"),key:"middeLine1",style:go(f,v)}),e.createElement("div",{className:eo("line"),key:"middeLine2",style:go(p,g)}),e.createElement("div",{className:eo("line"),key:"middeLine3",style:go(d,m)}),e.createElement("div",{className:eo("line"),key:"middeLine4",style:go(h,_)})].concat(Ni(t,e))}},dragControlCondition:function(t){return Qt(t,eo("direction"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,o=t.props.target,i=xo(n.target);if(!i||!o)return!1;var a=t.state,s=a.transformOrigin,u=a.is3d,l=a.targetTransform,c=a.targetMatrix,f=a.width,p=a.height,d=a.left,h=a.top;r.datas={},r.targetTransform=l,r.warpTargetMatrix=u?c:Dr(c,3,4),r.targetInverseMatrix=function(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),o=0;o<n;++o)r[o*n+e-1]=0,r[(e-1)*n+o]=0;return r[(e-1)*(n+1)]=1,r}(Er(r.warpTargetMatrix,4),3,4),r.direction=i,r.left=d,r.top=h,Io(t,{datas:r}),r.poses=[[0,0],[f,0],[0,p],[f,p]].map(function(t,e){return zr(t,s)}),r.nextPoses=r.poses.map(function(t){var e=t[0],n=t[1];return Fr(r.warpTargetMatrix,[e,n,0,1],4)}),r.startMatrix=jr(4),r.prevMatrix=jr(4),r.absolutePoses=Co(a),r.posIndexes=Ko(i),a.snapDirection=i;var v=No(t,"onWarpStart",Do(t,e,{set:function(t){r.startMatrix=t}}));return!1!==v&&(r.isWarp=!0),v},dragControl:function(t,e){var n=e.datas,r=e.distX,o=e.distY,i=n.targetInverseMatrix,a=n.prevMatrix,s=n.isWarp,u=n.startMatrix,l=n.poses,c=n.posIndexes,f=n.absolutePoses;if(!s)return!1;if(li(t,"warpable")){var p=c.map(function(t){return f[t]});1<p.length&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var d=ci(t,p.map(function(t){return t[0]+r}),p.map(function(t){return t[1]+o})),h=d.horizontal.offset,v=d.vertical.offset;o-=h,r-=v}var g=$o({datas:n,distX:r,distY:o},!0),m=n.nextPoses.slice();if(c.forEach(function(t){m[t]=Ar(m[t],g)}),!Kr.every(function(t){return function(t,e){var n=zi(t[0],t[1],t[2]),r=zi(e[0],e[1],e[2]),o=Math.PI;return!(o<=n&&r<=o||n<=o&&o<=r)}(t.map(function(t){return l[t]}),t.map(function(t){return m[t]}))}))return!1;var _=Lr(l[0],l[1],l[2],l[3],m[0],m[1],m[2],m[3]);if(!_.length)return!1;var y=Tr(Rr(i,_,4)),b=n.targetTransform+" matrix3d("+y.join(",")+")";return No(t,"onWarp",Do(t,e,{delta:Pr(Er(a,4),y,4),matrix:Pr(u,n.prevMatrix=y,4),multiply:Pr,dist:y,transform:b})),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,No(t,"onWarpEnd",Do(t,e,{isDrag:r})),r)}},Gi=eo("area"),Ti=eo("area-pieces"),Hi=eo("area-piece"),ji=eo("avoid");function Yi(t){var e=t.areaElement,n=t.state,r=n.width,o=n.height;ee(e,ji),e.style.cssText+="left: 0px; top: 0px; width: "+r+"px; height: "+o+"px"}function Xi(t){return t.createElement("div",{key:"area_pieces",className:Ti},t.createElement("div",{className:Hi}),t.createElement("div",{className:Hi}),t.createElement("div",{className:Hi}),t.createElement("div",{className:Hi}))}function Li(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Wi=[mi,Uo,_i,Mi,Pi,Oi,Fi,{name:"scrollable",canPinch:!0,dragStart:function(t,e){var n=t.props,r=n.scrollContainer,o=void 0===r?n.container||document.body:r,i=o.getBoundingClientRect(),a=e.datas;a.scrollContainer=o,a.scrollRect={left:i.left,top:i.top,width:i.width,height:i.height},a.isScroll=!0},drag:function(t,e){this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.isScroll=!1},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){this.drag(t,Ur({},e,{targets:t.props.targets}))},dragGroupEnd:function(t,e){this.dragEnd(t,e)},checkScroll:function(r,t){var o=t.datas,i=t.inputEvent,a=t.clientX,s=t.clientY,e=t.isScroll,n=t.targets;if(o.isScroll){e||(o.prevClientX=a,o.prevClientY=s);var u=r.props,l=u.scrollThreshold,c=void 0===l?0:l,f=u.getScrollPosition,p=void 0===f?Li:f,d=o.scrollContainer,h=o.scrollRect,v=[0,0];if(h.top>s-c?v[1]=-1:h.top+h.height<s+c&&(v[1]=1),h.left>a-c?v[0]=-1:h.left+h.width<a+c&&(v[0]=1),v[0]||v[1]){var g=p({scrollContainer:d,direction:v}),m=Do(r,t,{scrollContainer:d,direction:v}),_=n?"onScrollGroup":"onScroll";n&&(m.targets=n),No(r,_,m),requestAnimationFrame(function(){if(o.prevClientX===a&&o.prevClientY===s){var t=p({scrollContainer:d,direction:v}),e=t[0]-g[0],n=t[1]-g[1];(e||n)&&(r.targetDragger.scrollBy(v[0]?e:0,v[1]?n:0,i,!1),setTimeout(function(){o.prevClientX===a&&o.prevClientY===s&&r.targetDragger.onDrag(i,!0)},10))}})}}}},{name:"dragArea",render:function(t,e){var n=t.props,r=n.target,o=n.dragArea,i=n.groupable,a=t.state,s=a.width,u=a.height,l=a.pos1,c=a.pos2,f=a.pos3,p=a.pos4;if(i)return[e.createElement("div",{key:"area",ref:g(t,"areaElement"),className:Gi}),Xi(e)];if(!r||!o)return[];var d=Lr([0,0],[s,0],[0,u],[s,u],l,c,f,p),h=d.length?"matrix3d("+Tr(d).join(",")+")":"none";return[e.createElement("div",{key:"area",ref:g(t,"areaElement"),className:Gi,style:{top:"0px",left:"0px",width:s+"px",height:u+"px",transformOrigin:"0 0",transform:h}}),Xi(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,o=e.clientY,i=e.inputEvent;n.isDragArea=!1,n.inputTarget=i.target;var a=t.areaElement,s=t.state.clientRect,u=s.left,l=s.top,c=s.width,f=s.height,p=r-u,d=o-l,h=[{left:0,top:0,width:c,height:d-10},{left:0,top:0,width:p-10,height:f},{left:0,top:10+d,width:c,height:f-d-10},{left:10+p,top:0,width:c-p-10,height:f}],v=[].slice.call(a.nextElementSibling.children);h.forEach(function(t,e){v[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"}),te(a,ji)},drag:function(t,e){var n=e.datas;n.isDragArea||(n.isDragArea=!0,Yi(t))},dragEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea;e.datas.isDragArea||Yi(t);var o=t.state.target,i=n.target;if(!r&&!t.isMoveableElement(i)){var a=o.contains(i);No(t,"onClick",Do(t,e,{inputTarget:i,isTarget:o===i,containsTarget:a}))}},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){this.drag(t,e)},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea,o=e.datas;r||Yi(t);var i=o.inputTarget,a=n.target;if(!r&&!t.isMoveableElement(a)&&i!==a){var s=t.props.targets,u=s.indexOf(a),l=-1<u,c=!1;-1===u&&(c=-1<(u=function(t,e,n){void 0===n&&(n=-1);for(var r=t.length,o=0;o<r;++o)if(e(t[o],o,t))return o;return n}(s,function(t){return t.contains(a)}))),No(t,"onClickGroup",Do(t,e,{targets:s,inputTarget:a,targetIndex:u,isTarget:l,containsTarget:c}))}}},{name:"origin",render:function(t,e){if(!t.props.origin)return null;var n=t.state.beforeOrigin;return[e.createElement("div",{className:eo("control","origin"),style:mo(n),key:"beforeOrigin"})]}}],qi={name:"groupable",render:function(n,r){var t=n.props.targets||[];n.moveables=[];var e=n.state,o={left:e.left,top:e.top};return t.map(function(t,e){return r.createElement(Wo,{key:e,ref:a(n,"moveables",e),target:t,origin:!1,parentMoveable:n,parentPosition:o})}).slice()}};function Ui(t,i){return Math.max.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.max(e[i],n[i],r[i],o[i])}))}function Bi(t,i){return Math.min.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.min(e[i],n[i],r[i],o[i])}))}var Vi=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.differ=new _n,t.moveables=[],t.rotation=0,t}qr(t,n);var e=t.prototype;return e.updateEvent=function(t){var e=this.state,n=this.props;e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=Fo(this,e.target,"targetAbles","Group"),this.controlDragger=Fo(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=t.container!==n.container;r&&(e.container=n.container);var o=this.differ.update(n.targets),i=o.added,a=o.changed,s=o.removed;(r||i.length||a.length||s.length)&&this.updateRect()},e.checkUpdate=function(){this.updateAbles()},e.updateRect=function(e,t,n){var r;if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach(function(t){t.updateRect(e,!1,!1)});var o=this.state,i=o.target||this.props.target;(!t||""!==e&&this.props.updateGroup)&&(this.rotation=0);var a=this.rotation,s=function(t,e){if(!t.length)return[0,0,0,0];var n=t.map(function(t){return Co(t.state)}),o=Zr,i=Zr,r=0,a=0,s=Eo(e,1e-7);if(s%90){var u=e/180*Math.PI,l=Math.tan(u),c=-1/l,f=[Jr,Zr],p=[Jr,Zr];n.forEach(function(t){t.forEach(function(t){var e=t[1]-l*t[0],n=t[1]-c*t[0];f[0]=Math.max(f[0],e),f[1]=Math.min(f[1],e),p[0]=Math.max(p[0],n),p[1]=Math.min(p[1],n)})}),f.forEach(function(r){p.forEach(function(t){var e=(t-r)/(l-c),n=l*e+r;o=Math.min(o,e),i=Math.min(i,n)})});var d=n.map(function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return[Gr(e,-u),Gr(n,-u),Gr(r,-u),Gr(o,-u)]});r=Ui(d,0)-Bi(d,0),a=Ui(d,1)-Bi(d,1)}else if(o=Bi(n,0),i=Bi(n,1),r=Ui(n,0)-o,a=Ui(n,1)-i,s%180){var h=r;r=a,a=h}return[o,i,r,a]}(this.moveables,a),u=s[0],l=s[1],c=s[2],f=s[3];i.style.cssText+="left:0px;top:0px;width:"+c+"px; height:"+f+"px;transform:rotate("+a+"deg)",o.width=c,o.height=f;var p=yo(i,this.controlBox.getElement(),this.getContainer(),o),d=[p.left,p.top];r=Co(p),p.pos1=r[0],p.pos2=r[1],p.pos3=r[2],p.pos4=r[3],p.origin=Ar(d,p.origin),p.beforeOrigin=Ar(d,p.beforeOrigin);var h=p.clientRect;h.top+=l-p.top-o.top,h.left+=u-p.left-o.left,this.updateState(Ur({},p,{left:u-p.left,top:l-p.top}),n)}},e.triggerEvent=function(t,e){if(-1<t.indexOf("Group"))return n.prototype.triggerEvent.call(this,t,e)},e.updateAbles=function(){n.prototype.updateAbles.call(this,this.props.ables.concat([qi]),"Group")},t.defaultProps=Ur({},Wo.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[]}),t}(Wo),Ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qr(e,t);var n=e.prototype;return n.render=function(){var t=this.props.ables||[],e=this.props.target||this.props.targets,n=Bt(e);if(n&&1<e.length){var r=Ur({},this.props,{target:null,targets:e,ables:Wi.concat([qi],t)});return or(Vi,Ur({key:"group",ref:g(this,"moveable")},r))}var o=n?e[0]:e;return or(Wo,Ur({key:"single",ref:g(this,"moveable")},Ur({},this.props,{target:o,ables:Wi.concat(t)})))},n.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},n.dragStart=function(t){this.moveable.dragStart(t)},n.isInside=function(t,e){return this.moveable.isInside(t,e)},n.updateRect=function(){this.moveable.updateRect()},n.updateTarget=function(){this.moveable.updateTarget()},n.getRect=function(){return this.moveable.getRect()},n.destroy=function(){this.moveable.componentWillUnmount()},e}(dr),$i=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return o(t,n),t.prototype.render=function(){return function(t,e){return m(at,{vnode:t,container:e})}(m(Ii,s({ref:g(this,"preactMoveable")},this.state)),this.state.parentElement)},t}(k),Ki=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold"],Zi=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],Ji=function(a){function t(t,e){void 0===e&&(e={});var n=a.call(this)||this;n.tempElement=document.createElement("div");var r=s({container:t},e),o={};Zi.forEach(function(e){o[function(t){return t.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}("on "+e)]=function(t){return n.trigger(e,t)}}),X(m($i,s({ref:g(n,"innerMoveable"),parentElement:t},r,o)),n.tempElement);var i=r.target;return Bt(i)&&1<i.length&&n.updateRect(),n}o(t,a);var e=t.prototype;return e.isMoveableElement=function(t){return this.getMoveable().isMoveableElement(t)},e.updateRect=function(){this.getMoveable().updateRect()},e.dragStart=function(t){this.getMoveable().dragStart(t)},e.isInside=function(t,e){return this.getMoveable().isInside(t,e)},e.getRect=function(){return this.getMoveable().getRect()},e.setState=function(t,e){this.innerMoveable.setState(t,e)},e.updateTarget=function(){this.getMoveable().updateTarget()},e.destroy=function(){X("",this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.preactMoveable},t=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(o=t[s])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);return 3<i&&a&&Object.defineProperty(e,n,a),a}([l(Ki,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getMoveable().props[n]},set:function(t){var e;this.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(t),Qi={draggable:{vanilla:'\nimport Moveable from "moveable";\n\n/* const translate = [0, 0]; */\nconst draggable = new Moveable(document.body, {\n    target: document.querySelector(".draggable"),\n    draggable: true,\n    throttleDrag: 0,\n}).on("drag", ({ target, left, top, beforeDelta }) => {\n    target.style.left = left + "px";\n    target.style.top = top + "px";\n\n    /* translate[0] += beforeDelta[0]; */\n    /* translate[1] += beforeDelta[1]; */\n    /* target.style.transform\n        = "translateX(" + translate[0] + "px) "\n        + "translateY(" + translate[1] + "px)"; */\n});\n        ',react:'\nimport Moveable from "react-moveable";\nthis.translate = [0, 0];\nreturn (\n    <Moveable\n        target={document.querySelector(".draggable")}\n        draggable={true}\n        throttleDrag={0}\n        onDrag={({ target, left, top, beforeDelta }) => {\n            target.style.left = left + "px";\n            target.style.top = top + "px";\n\n            /* const translate = this.translate */\n            /* translate[0] += beforeDelta[0]; */\n            /* translate[1] += beforeDelta[1]; */\n            /* target.style.transform\n                = "translateX(" + translate[0] + "px) "\n                + "translateY(" + translate[1] + "px)"; */\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [draggable]="true"\n    [throttleDrag]="0"\n    (drag)="onDrag($event)\n    />\n`,\n})\nexport class AppComponent {\n    translate = [0, 0];\n    onDrag({ target, left, top, beforeDelta }) {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n\n        /* const translate = this.translate */\n        /* translate[0] += beforeDelta[0]; */\n        /* translate[1] += beforeDelta[1]; */\n        /* target.style.transform\n            = "translateX(" + translate[0] + "px) "\n            + "translateY(" + translate[1] + "px)"; */\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let translate = [0, 0];\n    let target;\n<\/script>\n<div class="target draggable" bind:this={target}>Draggable</div>\n<Moveable\n    target={target}\n    draggable={true}\n    throttleDrag={0}\n    on:drag={({ detail }) => {\n        target.style.left = detail.left + "px";\n        target.style.top = detail.top + "px";\n    }}\n/>'},resizable:{vanilla:'\nimport Moveable from "moveable";\n\nconst resizable = new Moveable(document.body, {\n    target: document.querySelector(".resizable"),\n    resizable: true,\n    throttleResize: 0,\n    keepRatio: true,\n}).on("resize", ({ target, width, height, dist }) => {\n    console.log(width, height, dist);\n    target.style.width = width + "px";\n    target.style.height = height + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".resizable")}\n        resizable={true}\n        throttleResize={0}\n        keepRatio={true}\n        onResize={({ target, width, height, dist }) => {\n            console.log(width, height, dist);\n            target.style.width = width + "px";\n            target.style.height = height + "px";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [resizable]="true"\n    [throttleResize]="0"\n    [keepRatio]="true"\n    (resize)="onResize($event)\n    />\n`,\n})\nexport class AppComponent {\n    onResize({ target, width, height, dist }) {\n        console.log(width, height, dist);\n        target.style.width = width + "px";\n        target.style.height = height + "px";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let translate = [0, 0];\n    let target;\n<\/script>\n<div class="target resizable" bind:this={target}>Resizable</div>\n<Moveable\n    target={target}\n    resizable={true}\n    throttleResize={0}\n    keepRatio={true}\n    on:resize={({ detail }) => {\n        const { target, width, height, dist } = detail;\n        target.style.width = width + "px";\n        target.style.height = height + "px";\n    }}\n/>'},scalable:{vanilla:'\nimport Moveable from "moveable";\n\nconst scale = [1, 1];\nconst scalable = new Moveable(document.body, {\n    target: document.querySelector(".scalable"),\n    scalable: true,\n    throttleScale: 0,\n    keepRatio: true,\n}).on("scale", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = "scale(" + scale[0] +  "," + scale[1] + ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.scale = [1, 1];\nreturn (\n    <Moveable\n        target={document.querySelector(".scalable")}\n        scalable={true}\n        throttleScale={0}\n        keepRatio={true}\n        onScale={({ target, delta }) => {\n            const scale = this.scale;\n            scale[0] *= delta[0];\n            scale[1] *= delta[1];\n            target.style.transform\n                = "scale(" + scale[0] +  "," + scale[1] + ")";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [scalable]="true"\n    [throttleScale]="0"\n    [keepRatio]="true"\n    (scale)="onScale($event)\n    />\n`,\n})\nexport class AppComponent {\n    scale = [1, 1];\n    onScale({ target, delta }) {\n        const scale = this.scale;\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + scale[0] +  "," + scale[1] + ")";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let scale = [1, 1];\n    let target;\n<\/script>\n<div class="target scalable" bind:this={target}>Scalable</div>\n<Moveable\n    target={target}\n    scalable={true}\n    throttleScale={0}\n    keepRatio={true}\n    on:scale={({ detail: { target, delta }}) => {\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + scale[0] +  "," + scale[1] + ")";\n    }}\n/>'},rotatable:{vanilla:'\nimport Moveable from "moveable";\n\nlet rotate = 0;\n\nconst rotatable = new Moveable(document.body, {\n    target: document.querySelector(".rotatable"),\n    rotatable: true,\n    throttleRotate: 0,\n}).on("rotate", ({ target, beforeDelta, delta }) => {\n    rotate += delta;\n    target.style.transform\n        = "rotate(" + rotate +  "deg)";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".rotatable")}\n        rotatable={true}\n        throttleRotate={0}\n        onRotate={({ target, beforeDelta, delta }) => {\n            this.rotate += delta;\n            target.style.transform\n                = "rotate(" + this.rotate +  "deg)";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [rotatable]="true"\n    [throttleRotate]="0"\n    [keepRatio]="true"\n    (rotate)="onRotate($event)\n    />\n`,\n})\nexport class AppComponent {\n    rotate = 0;\n    onRotate({ target, delta }) {\n        this.rotate += delta;\n        target.style.transform\n            = "rotate(" + this.rotate +  "deg)";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let rotate = 0;\n    let target;\n<\/script>\n<div class="target rotatable" bind:this={target}>Rotatable</div>\n<Moveable\n    target={target}\n    rotatable={true}\n    throttleRotate={0}\n    on:rotate={({ detail }) => {\n        const { target, beforeDelta, delta } = detail;\n        rotate += delta;\n        target.style.transform\n            = "rotate(" + rotate +  "deg)";\n    }}\n/>'},warpable:{vanilla:'\nimport Moveable from "moveable";\n\nlet matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nconst warpable = new Moveable(document.body, {\n    target: document.querySelector(".warpable"),\n    warpable: true,\n    throttleRotate: 0,\n}).on("warp", ({ target, multiply, delta }) => {\n    matrix = multiply(matrix, delta);\n    target.style.transform\n        = "matrix3d(" + matrix.join(",") +  ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nreturn (\n    <Moveable\n        target={document.querySelector(".warpable")}\n        warpable={true}\n        onWarp={({ target, multiply, delta }) => {\n            this.matrix = multiply(this.matrix, delta);\n            target.style.transform\n                = "matrix3d(" + matrix.join(",") +  ")";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [warpable]="true"\n    (warp)="onWarp($event)\n    />\n`,\n})\nexport class AppComponent {\n    matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    onWarp({ target, dist }) {\n        this.matrix = multiply(this.matrix, delta);\n        target.style.transform\n            = "matrix3d(" + matrix.join(",") +  ")";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    let target;\n<\/script>\n<div class="target scalable" bind:this={target}>Scalable</div>\n<Moveable\n    target={target}\n    warpable={true}\n    on:warp={({ detail }) => {\n        const { target, multiply, delta } = detail;\n        matrix = multiply(matrix, delta);\n        target.style.transform\n            = "matrix3d(" + matrix.join(",") +  ")";\n    }}\n/>'},pinchable:{vanilla:'\nimport Moveable from "moveable";\nconst scale = [1, 1];\nlet rotate = 0;\n\nconst pinchable = new Moveable(document.body, {\n    target: document.querySelector(".pinchable"),\n    pinchable: ["rotatable", "scalable"],\n}).on("rotate", ({ target, beforeDelta }) => {\n    rotate += beforeDelta;\n    target.style.transform = "scale(" + scale.join(", ") + ") rotate(" + rotate + "deg)";\n}).on("scale", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = "scale(" + scale.join(", ") + ") rotate(" + rotate + "deg)";\n});',react:'\nimport Moveable from "react-moveable";\nthis.scale = [1, 1];\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".pinchable")}\n        pinchable={["rotatable", "scalable"]},\n        onRotate={({ target, beforeDelta }) => {\n            this.rotate += beforeDelta;\n            target.style.transform\n                = "scale(" + this.scale.join(", ") + ") "\n                + "rotate(" + this.rotate + "deg)";\n        }}\n        onScale={({ target, beforeDelta }) => {\n            this.scale[0] *= delta[0];\n            this.scale[1] *= delta[1];\n            target.style.transform\n                = "scale(" + this.scale.join(", ") + ") "\n                + "rotate(" + this.rotate + "deg)";\n        }}\n    />\n);',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n    <div #target class="target">target</div>\n    <ngx-moveable\n        [target]="target"\n        [pinchable]="[\'rotatable\', \'scalable\']"\n        [rotate]="onRotate($event)"\n        [scale]="onScale($event)"\n/>\n`,\n})\nexport class AppComponent {\n    scale = [1, 1];\n    rotate = 0;\n    onRotate({ target, beforeDelta }) {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }\n    onScale({ target, beforeDelta }) {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    let target;\n<\/script>\n<div class="target pinchable" bind:this={target}>Pinchable</div>\n<Moveable\n    target={target}\n    pinchable={["rotatable", "scalable"]},\n    on:rotate={({ detail: { target, beforeDelta }}) => {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }}\n    on:scale={({ detail: { target, beforeDelta }}) => {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }}\n/>'},snappable:{vanilla:'\nimport Moveable from "moveable";\n\nconst snappable = new Moveable(document.body, {\n    target: document.querySelector(".snappable"),\n    snappable: true,\n    verticalGuidelines: [0, 150, 200],\n    horizontalGuidelines: [0, 150, 200],\n}).on("drag", ({ target, left, top }) => {\n    target.style.left = left + "px";\n    target.style.top = top + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".origin")}\n        origin={true}\n        snappable={true}\n        verticalGuidelines={[0, 150, 200]}\n        horizontalGuidelines={[0, 150, 200]}\n        onDrag={({ target, left, top }) => {\n            target.style.left = left + "px";\n            target.style.top = top + "px";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [snappable]="true"\n    [verticalGuidelines]="[0, 150, 200]"\n    [horizontalGuidelines]="[0, 150, 200]"\n    />\n`,\n})\nexport class AppComponent {\n    onDrag({ target, left, top }) {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let target;\n<\/script>\n<div class="target pinchable" bind:this={target}>Pinchable</div>\n<Moveable\n    target={target}\n    origin={true}\n    snappable={true}\n    verticalGuidelines={[0, 150, 200]}\n    horizontalGuidelines={[0, 150, 200]}\n    on:drag={({ detail: { target, left, top }}) => {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n    }}\n/>'},groupable:{vanilla:'\nimport Moveable from "moveable";\nconst poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\nconst target = [].slice.call(\n    document.querySelectorAll(".target"),\n);\nconst groupable = new Moveable(document.body, {\n    target,\n    draggable: true,\n}).on("dragGroup", ({ events }) => {\n    events.forEach(({ target, beforeDelta }, i) => {\n        poses[i][0] += beforeDelta[0];\n        poses[i][1] += beforeDelta[1];\n\n        target.style.transform\n            = "translate("\n            + poses[i][0] + "px, "\n            + poses[i][1] + "px)";\n    });\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\n\nconst target = [].slice.call(\n    document.querySelectorAll(".target"),\n);\nreturn (\n    <Moveable\n        target={target}\n        draggable={true}\n        onDragGroup={({ events }) => {\n            events.forEach(({ target, beforeDelta }, i) => {\n                this.poses[i][0] += beforeDelta[0];\n                this.poses[i][1] += beforeDelta[1];\n\n                target.style.transform\n                    = "translate("\n                    + this.poses[i][0] + "px, "\n                    + this.poses[i][1] + "px)";\n            });\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target1 class="target">target1</div>\n<div #target2 class="target">target2</div>\n<div #target3 class="target">target3</div>\n<ngx-moveable\n    [target]="[target1, target2, target3]"\n    [draggable]="true"\n    (dragGroup)="onDragGroup($event)\n    />\n`,\n})\nexport class AppComponent {\n    poses = [\n        [0, 0],\n        [0, 0],\n        [0, 0],\n    ];\n    onDragGroup({ events }) {\n        events.forEach(({ target, beforeDelta }, i) => {\n            this.poses[i][0] += beforeDelta[0];\n            this.poses[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = "translate("\n                + this.poses[i][0] + "px, "\n                + this.poses[i][1] + "px)";\n        });\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n    import { onMount } from "svelte";\n    let targets = [];\n    let translates = [];\n\n    onMount(() => {\n        targets = [].slice.call(document.querySelectorAll(".target"));\n        translates = targets.map(() => {\n            return [0, 0];\n        });\n    });\n<\/script>\n<div class="target">Target1</div>\n<div class="target">Target2</div>\n<div class="target">Target3</div>\n<Moveable\n    target={targets}\n    draggable={true}\n    on:dragGroup={({ detail: { events }}) => {\n        events.forEach(({ target, beforeDelta }, i) => {\n            translates[i][0] += beforeDelta[0];\n            translates[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = "translate("\n                + translates[i][0] + "px, "\n                + translates[i][1] + "px)";\n        });\n    }}\n/>'}};function ta(t,e,n){var r=1-n;return n*n*n+3*n*n*r*e+3*n*r*r*t}function ea(n,r,o,i){function t(t){var e=function(t,e,n){for(var r=n,o=1;.001<Math.abs(o);){if(o=ta(t,e,r)-n,Math.abs(o)<.001)return r;r-=o/2}return r}(n,o,Math.max(Math.min(1,t),0));return ta(r,i,e)}return t.easingName="cubic-bezier("+n+","+r+","+o+","+i+")",t}function na(n,r){function t(t){var e=1/n;return 1<=t?1:("start"===r?e:0)+Math.floor(t/e)*e}return t.easingName="steps("+n+", "+r+")",t}var ra,oa=na(1,"start"),ia=na(1,"end"),aa=ea(0,0,1,1),sa=ea(.25,.1,.25,1),ua=ea(.42,0,1,1),la=ea(0,0,.58,1),ca=ea(.42,0,.58,1),fa="animation-timing-function",pa={transform:{},filter:{},attribute:{},html:!0},da={easing:[fa]},ha=((ra={})[fa]=!0,ra.contents=!0,ra.html=!0,ra),va={linear:aa,ease:sa,"ease-in":ua,"ease-out":la,"ease-in-out":ca,"step-start":oa,"step-end":ia},ga=function(){function i(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=Vt(t)?t.split(this.separator):t}var t=i.prototype;return t.setOptions=function(t){for(var e in t)this[e]=t[e];return this},t.size=function(){return this.value.length},t.get=function(t){return this.value[t]},t.set=function(t,e){return this.value[t]=e,this},t.clone=function(){var t=this.separator,e=this.prefix,n=this.suffix,r=this.model,o=this.type;return new i(this.value.map(function(t){return t instanceof i?t.clone():t}),{separator:t,prefix:e,suffix:n,model:r,type:o})},t.toValue=function(){return this.prefix+this.join()+this.suffix},t.join=function(){return this.value.map(function(t){return t instanceof i?t.toValue():t}).join(this.separator)},t.forEach=function(t){return this.value.forEach(t),this},i}();function ma(t){var e=Dt;return 3===t.length&&(t[3]=1),new ga(t,{model:e,separator:",",type:"color",prefix:e+"(",suffix:")"})}function _a(t,e){return new ga(t,{type:"array",separator:e})}function ya(t){if(!Vt(t))return Bt(t)?_a(t,","):t;var e=It(t);return 1<e.length?_a(e.map(function(t){return ya(t)}),","):1<(e=function(t){return t.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[]}(t)).length?_a(e.map(function(t){return ya(t)})," "):(e=/^(['"])([^'"]*)(['"])$/g.exec(t))&&e[1]===e[3]?new ga([ya(e[2])],{prefix:e[1],suffix:e[1]}):-1!==t.indexOf("(")?function(t){var e=$t(t),n=e.prefix,r=e.value,o=e.suffix;if(void 0===r)return t;if(-1!==Pt.indexOf(n))return ma(Jt(t));var i=ya(r),a=[r],s=",",u=n+"(",l=")"+o;return i instanceof ga&&(s=i.separator,a=i.value,u+=i.prefix,l=i.suffix+l),new ga(a,{separator:s,model:n,prefix:u,suffix:l})}(t):"#"===t.charAt(0)?function(t){var e=Jt(t);return e?ma(e):t}(t):t}function ba(t){return t instanceof ga}function xa(t){var e=typeof t;if(e===Ft){if(Bt(t))return zt;if(ba(t))return At}else if(e===Gt||e===Tt)return"value";return e}function wa(t,e){var n=[];if(function(t){return Ut(t)&&t.constructor===Object}(t))for(var r in t)e.push(r),n=n.concat(wa(t[r],e)),e.pop();else n.push(e.slice());return n}function Ca(t,e,n){void 0===n&&(n=t.length);for(var r=e,o=0;o<n;++o){if(!Ut(r))return;r=r[t[o]]}return r}function Ea(t,e,n){var r=e.length,o=t;if(0===r)return!1;for(var i=0;i<r;++i){if(!0===o)return!1;if(!(o=o[e[i]])||!n&&!0===o)return!1}return!0}function Sa(t,e){return Ea(pa,t,e)}function ka(t){if(!t)return"";var e=[];for(var n in t)e.push(n.replace(/\d$/g,"")+"("+t[n]+")");return e.join(" ")}function Ma(t,e){return void 0===e&&(e=!1),Da({},t,e)}function Da(t,e,n){for(var r in void 0===n&&(n=!1),e){var o=e[r],i=xa(o);i===At?t[r]=n?o.toValue():o.clone():i===Ot?t[r]=n?Ra([r],o):o:i===zt?t[r]=o.slice():i===Ft?Ut(t[r])&&!ba(t[r])?Da(t[r],o,n):t[r]=Ma(o,n):t[r]=e[r]}return t}function Na(t){return t[0]in da?da[t[0]]:t}function Ra(t,e){var n=xa(e);if(n===At)return e.toValue();if(n===Ot){if(t[0]!==fa)return Ra(t,e())}else if(n===Ft)return Ma(e,!0);return e}var Pa,Oa,Aa=function(){function p(t){void 0===t&&(t={}),this.properties={},this.set(t)}var t=p.prototype;return t.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return Ra(Na(t),n)},t.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ca(Na(t),this.properties)},t.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Na(t),r=n.length;if(!r)return this;var o=Ca(n,this.properties,r-1);return Ut(o)&&delete o[n[r-1]],this},t.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this,r=t.length,o=t.slice(0,-1),i=t[r-1],a=o[0];if(1===r&&i instanceof p)n.merge(i);else if(a in da)n._set(da[a],i);else if(2===r&&Bt(a))n._set(a,i);else if(ba(i))Sa(o)?n.set.apply(n,o.concat([function e(t,n){void 0===n&&(n={});var r=t.model;if(r){t.setOptions({model:"",suffix:"",prefix:""});var o=1<t.size()?t:t.get(0);n[r]=o}else t.forEach(function(t){e(t,n)});return n}(i)])):n._set(o,i);else if(Bt(i))n._set(o,i);else if(Ut(i))for(var s in!n.has.apply(n,o)&&Sa(o)&&n._set(o,{}),i)n.set.apply(n,o.concat([s,i[s]]));else if(Vt(i)){if(Sa(o,!0)){if(function(t){return Ea(ha,t,!0)}(o)||!Sa(o))this._set(o,i);else{var u=ya(i);Ut(u)&&n.set.apply(n,o.concat([u]))}return this}var l=function(t){for(var e=t.split(";"),n={},r=e.length,o=0;o<r;++o){var i=/([^:]*):([\S\s]*)/g.exec(e[o]);!i||i.length<3||!i[1]?--r:n[i[1].trim()]=ya(i[2].trim())}return{styles:n,length:r}}(i),c=l.styles,f=l.length;for(var s in c)n.set.apply(n,o.concat([s,c[s]]));if(f)return this;n._set(o,i)}else n._set(o,i);return n},t.getNames=function(){return wa(this.properties,[])},t.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Na(t),r=n.length;return!!r&&!qt(Ca(n,this.properties,r))},t.clone=function(){return(new p).merge(this)},t.merge=function(t){var e=this.properties,n=t.properties;return n&&Da(e,n),this},t.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!Sa([n],!0)){var r=t[n];n===fa?e[fa.replace("animation",Wt)]=(Vt(r)?r:r.easingName)||"initial":e[n]=r}var o=ka(t.transform),i=ka(t.filter);return Xt&&o&&(e[Xt]=o),Lt&&i&&(e[Lt]=i),e},t.toCSS=function(){var t=this.toCSSObject(),e=[];for(var n in t)e.push(n+":"+t[n]+";");return e.join("")},t._set=function(t,e){for(var n=this.properties,r=t.length,o=0;o<r-1;++o){var i=t[o];i in n||(n[i]={}),n=n[i]}r&&(1===t.length&&t[0]===fa?n[fa]=function(t){var e;if(Vt(t))if(t in va)e=va[t];else{var n=ya(t);if(Vt(n))return 0;if("cubic-bezier"===n.model)e=ea((t=n.value.map(function(t){return parseFloat(t)}))[0],t[1],t[2],t[3]);else{if("steps"!==n.model)return 0;e=na(parseFloat(n.value[0]),n.value[1])}}else e=Bt(t)?ea(t[0],t[1],t[2],t[3]):t;return e}(e):n[t[r-1]]=Vt(e)?ya(e):e)},p}(),za=[],Fa=b.__r;b.__r=function(t){Fa&&Fa(t),Pa=0,(Oa=t.__c).__H&&(Oa.__H.t=qa(Oa.__H.t))};var Ga=b.diffed;b.diffed=function(t){Ga&&Ga(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=qa(n.i))}};var Ta=b.unmount;function Ha(t){b.__h&&b.__h(Oa);var e=Oa.__H||(Oa.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function ja(n,t,e){var r=Ha(Pa++);return r.__c||(r.__c=Oa,r.v=[e?e(t):Ia(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function Ya(t,e){var n=Ha(Pa++);return Va(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}b.unmount=function(t){Ta&&Ta(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var Xa=function(){};function La(){za.some(function(t){t.s=!1,t.__P&&(t.__H.t=qa(t.__H.t))}),za=[]}if("undefined"!=typeof window){var Wa=b.requestAnimationFrame;Xa=function(t){(!t.s&&(t.s=!0)&&1===za.push(t)||Wa!==b.requestAnimationFrame)&&(Wa=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(La))}}function qa(t){return t.forEach(Ua),t.forEach(Ba),[]}function Ua(t){t.l&&t.l()}function Ba(t){var e=t.v();"function"==typeof e&&(t.l=e)}function Va(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function Ia(t,e){return"function"==typeof e?e(t):e}var $a={useState:function(t){return ja(Ia,t)},useReducer:ja,useEffect:function(t,e){var n=Ha(Pa++);Va(n.m,e)&&(n.v=t,n.m=e,Oa.__H.t.push(n),Xa(Oa))},useLayoutEffect:function(t,e){var n=Ha(Pa++);Va(n.m,e)&&(n.v=t,n.m=e,Oa.__H.i.push(n))},useRef:function(t){return Ya(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){var r=Ha(Pa++);Va(r.m,n)&&(r.m=n,Oa.__H.u.push({ref:t,createHandle:e}))},useMemo:Ya,useCallback:function(t,e){return Ya(function(){return t},e)},useContext:function(t){var e=Oa.context[t.__c];if(!e)return t.__p;var n=Ha(Pa++);return null==n.v&&(n.v=!0,e.sub(Oa)),e.props.value},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}};function Ka(t,e){for(var n in e)t[n]=e[n];return t}function Za(t){var e=t.parentNode;e&&e.removeChild(t)}var Ja=b.__e;function Qa(){this.t=[]}b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);Ja(t,e,n)},(Qa.prototype=new k).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(j(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?Za(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},Qa.prototype.render=function(t,e){return e.u?t.fallback:t.children};var ts="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,es=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,ns=b.event;function rs(t,e,n){if(null==e.__k)for(;e.firstChild;)Za(e.firstChild);return X(t,e),"function"==typeof n&&n(),t?t.__c:null}b.event=function(t){return ns&&(t=ns(t)),t.persist=function(){},t.nativeEvent=t};var os=function(){};function is(t){var e=this,n=t.container,r=m(os,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,X(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),L("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,X(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),j(e.v)},null}os.prototype.getChildContext=function(){return this.props.context},os.prototype.render=function(t){return t.children};function as(t,e){return t?O(t).map(e):null}var ss={map:as,forEach:as,count:function(t){return t?O(t).length:0},only:function(t){if(1!==(t=O(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:O};function us(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=m.apply(void 0,t),r=n.type,o=n.props;return"function"!=typeof r&&(o.defaultValue&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===r&&(O(o.children).forEach(function(t){-1!=o.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete o.value),function(t,e){var n,r,o;for(o in e)if(n=es.test(o))break;if(n)for(o in r=t.props={},e)r[es.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o]}(n,o)),n.preactCompatNormalized=!1,ls(n)}function ls(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(fs.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",fs)),t;var e}function cs(t){return!!t&&t.$$typeof===ts}var fs={configurable:!0,get:function(){return this.class}};function ps(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}var ds,hs=((ds=k)&&(vs.__proto__=ds),((vs.prototype=Object.create(ds&&ds.prototype)).constructor=vs).prototype.shouldComponentUpdate=function(t,e){return ps(this.props,t)||ps(this.state,e)},vs);function vs(t){ds.call(this,t),this.isPureReactComponent=!0}function gs(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}k.prototype.isReactComponent={};var ms=b.vnode;b.vnode=function(i){i.$$typeof=ts,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.o&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.h&&t.prototype&&(gs(t.prototype,"componentWillMount"),gs(t.prototype,"componentWillReceiveProps"),gs(t.prototype,"componentWillUpdate"),t.h=!0),ms&&ms(i)};Ka({version:"16.8.0",Children:ss,render:rs,hydrate:rs,unmountComponentAtNode:function(t){return!!t.__k&&(X(null,t),!0)},createPortal:function(t,e){return m(is,{vnode:t,container:e})},createElement:us,createContext:q,createFactory:function(t){return us.bind(null,t)},cloneElement:function(t){return cs(t)?ls(W.apply(null,arguments)):t},createRef:E,Fragment:S,isValidElement:cs,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:k,PureComponent:hs,memo:function(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):ps(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,m(e,Ka({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t},forwardRef:function(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t},unstable_batchedUpdates:function(t,e){return t(e)},Suspense:Qa,lazy:function(e){var n,r,o;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){o=t}),o)throw o;if(!r)throw n;return m(r,t)}return t.displayName="Lazy",t.o=!0,t}},$a);var _s=function(t,e){return(_s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ys,bs,xs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t}!function(t,e){function n(){this.constructor=t}_s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e);var n=t.prototype;return n.render=function(){return us("canvas",{ref:g(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var t=this.canvasElement.getContext("2d");this.canvasContext=t,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(t){this.draw(t)},n.resize=function(){var t=this.canvasElement,e=this.props,n=e.width,r=e.height;this.width=n||t.offsetWidth,this.height=r||t.offsetHeight,t.width=2*this.width,t.height=2*this.height,this.draw()},n.draw=function(t){void 0===t&&(t=this.state.scrollPos);var e=this.props,n=e.unit,r=e.zoom,o=e.type,i=e.backgroundColor,a=e.lineColor,s=this.width,u=this.height;this.state.scrollPos=t;var l=this.canvasContext,c="horizontal"===o;l.rect(0,0,2*s,2*u),l.fillStyle=i,l.fill(),l.save(),l.scale(2,2),l.strokeStyle=a,l.lineWidth=1,l.font="10px sans-serif",l.fillStyle="#ffffff",l.translate(.5,0),l.beginPath();for(var f=c?s:u,p=r*n,d=Math.floor(t*r/p),h=Math.ceil((t*r+f)/p)-d,v=0;v<h;++v){var g=((v+d)*n-t)*r;if(-p<=g&&g<f){var m=c?3+g:s-18,_=c?u-18:g-4;c?l.fillText(""+(v+d)*n,m,_):(l.save(),l.translate(m,_),l.rotate(-Math.PI/2),l.fillText(""+(v+d)*n,0,0),l.restore())}for(var y=0;y<10;++y){var b=g+y/10*p;if(!(b<0||f<=b)){var x=0===y?c?u:s:y%2==0?10:7,w=c?b:s-x,C=c?b:s,E=c?u-x:b,S=c?u:b;l.moveTo(w,E),l.lineTo(C,S)}}}l.stroke(),l.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,style:{width:"100%",height:"100%"},backgroundColor:"#333333",lineColor:"#777777"},t}(hs),ws=[],Cs=b.__r;b.__r=function(t){Cs&&Cs(t),ys=0,(bs=t.__c).__H&&(bs.__H.t=Os(bs.__H.t))};var Es=b.diffed;b.diffed=function(t){Es&&Es(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=Os(n.i))}};var Ss=b.unmount;function ks(t){b.__h&&b.__h(bs);var e=bs.__H||(bs.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function Ms(n,t,e){var r=ks(ys++);return r.__c||(r.__c=bs,r.v=[e?e(t):Gs(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function Ds(t,e){var n=ks(ys++);return Fs(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}b.unmount=function(t){Ss&&Ss(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var Ns=function(){};function Rs(){ws.some(function(t){t.s=!1,t.__P&&(t.__H.t=Os(t.__H.t))}),ws=[]}if("undefined"!=typeof window){var Ps=b.requestAnimationFrame;Ns=function(t){(!t.s&&(t.s=!0)&&1===ws.push(t)||Ps!==b.requestAnimationFrame)&&(Ps=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(Rs))}}function Os(t){return t.forEach(As),t.forEach(zs),[]}function As(t){t.l&&t.l()}function zs(t){var e=t.v();"function"==typeof e&&(t.l=e)}function Fs(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function Gs(t,e){return"function"==typeof e?e(t):e}var Ts={__proto__:null,useState:function(t){return Ms(Gs,t)},useReducer:Ms,useEffect:function(t,e){var n=ks(ys++);Fs(n.m,e)&&(n.v=t,n.m=e,bs.__H.t.push(n),Ns(bs))},useLayoutEffect:function(t,e){var n=ks(ys++);Fs(n.m,e)&&(n.v=t,n.m=e,bs.__H.i.push(n))},useRef:function(t){return Ds(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){var r=ks(ys++);Fs(r.m,n)&&(r.m=n,bs.__H.u.push({ref:t,createHandle:e}))},useMemo:Ds,useCallback:function(t,e){return Ds(function(){return t},e)},useContext:function(t){var e=bs.context[t.__c];if(!e)return t.__p;var n=ks(ys++);return null==n.v&&(n.v=!0,e.sub(bs)),e.props.value},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}};function Hs(t,e){for(var n in e)t[n]=e[n];return t}function js(t){var e=t.parentNode;e&&e.removeChild(t)}var Ys=b.__e;function Xs(){this.t=[]}b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);Ys(t,e,n)},(Xs.prototype=new k).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(j(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?js(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},Xs.prototype.render=function(t,e){return e.u?t.fallback:t.children};var Ls="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Ws=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,qs=b.event;function Us(t,e,n){if(null==e.__k)for(;e.firstChild;)js(e.firstChild);return X(t,e),"function"==typeof n&&n(),t?t.__c:null}b.event=function(t){return qs&&(t=qs(t)),t.persist=function(){},t.nativeEvent=t};var Bs=function(){};function Vs(t){var e=this,n=t.container,r=m(Bs,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,X(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),L("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,X(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),j(e.v)},null}Bs.prototype.getChildContext=function(){return this.props.context},Bs.prototype.render=function(t){return t.children};function Is(t,e){return t?O(t).map(e):null}var $s={map:Is,forEach:Is,count:function(t){return t?O(t).length:0},only:function(t){if(1!==(t=O(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:O};function Ks(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=m.apply(void 0,t),r=n.type,o=n.props;return"function"!=typeof r&&(o.defaultValue&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===r&&(O(o.children).forEach(function(t){-1!=o.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete o.value),function(t,e){var n,r,o;for(o in e)if(n=Ws.test(o))break;if(n)for(o in r=t.props={},e)r[Ws.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o]}(n,o)),n.preactCompatNormalized=!1,Zs(n)}function Zs(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(Qs.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",Qs)),t;var e}function Js(t){return!!t&&t.$$typeof===Ls}var Qs={configurable:!0,get:function(){return this.class}};function tu(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function eu(t){return t&&(t.base||1===t.nodeType&&t)||null}var nu,ru=((nu=k)&&(ou.__proto__=nu),((ou.prototype=Object.create(nu&&nu.prototype)).constructor=ou).prototype.shouldComponentUpdate=function(t,e){return tu(this.props,t)||tu(this.state,e)},ou);function ou(t){nu.call(this,t),this.isPureReactComponent=!0}function iu(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}k.prototype.isReactComponent={};var au=b.vnode;b.vnode=function(i){i.$$typeof=Ls,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.o&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.h&&t.prototype&&(iu(t.prototype,"componentWillMount"),iu(t.prototype,"componentWillReceiveProps"),iu(t.prototype,"componentWillUpdate"),t.h=!0),au&&au(i)};Hs({version:"16.8.0",Children:$s,render:Us,hydrate:Us,unmountComponentAtNode:function(t){return!!t.__k&&(X(null,t),!0)},createPortal:function(t,e){return m(Vs,{vnode:t,container:e})},createElement:Ks,createContext:q,createFactory:function(t){return Ks.bind(null,t)},cloneElement:function(t){return Js(t)?Zs(W.apply(null,arguments)):t},createRef:E,Fragment:S,isValidElement:Js,findDOMNode:eu,Component:k,PureComponent:ru,memo:function(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):tu(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,m(e,Hs({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t},forwardRef:function(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t},unstable_batchedUpdates:function(t,e){return t(e)},Suspense:Xs,lazy:function(e){var n,r,o;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){o=t}),o)throw o;if(!r)throw n;return m(r,t)}return t.displayName="Lazy",t.o=!0,t}},Ts);var su=function(t,e){return(su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var uu=function(){return(uu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var lu=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function cu(n,t){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return function(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(document.head||document.body).appendChild(e),e}var fu,pu,du=[],hu=b.__r;b.__r=function(t){hu&&hu(t),fu=0,(pu=t.__c).__H&&(pu.__H.t=Cu(pu.__H.t))};var vu=b.diffed;b.diffed=function(t){vu&&vu(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=Cu(n.i))}};var gu=b.unmount;function mu(t){b.__h&&b.__h(pu);var e=pu.__H||(pu.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function _u(n,t,e){var r=mu(fu++);return r.__c||(r.__c=pu,r.v=[e?e(t):Mu(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function yu(t,e){var n=mu(fu++);return ku(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}b.unmount=function(t){gu&&gu(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var bu=function(){};function xu(){du.some(function(t){t.s=!1,t.__P&&(t.__H.t=Cu(t.__H.t))}),du=[]}if("undefined"!=typeof window){var wu=b.requestAnimationFrame;bu=function(t){(!t.s&&(t.s=!0)&&1===du.push(t)||wu!==b.requestAnimationFrame)&&(wu=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(xu))}}function Cu(t){return t.forEach(Eu),t.forEach(Su),[]}function Eu(t){t.l&&t.l()}function Su(t){var e=t.v();"function"==typeof e&&(t.l=e)}function ku(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function Mu(t,e){return"function"==typeof e?e(t):e}var Du={useState:function(t){return _u(Mu,t)},useReducer:_u,useEffect:function(t,e){var n=mu(fu++);ku(n.m,e)&&(n.v=t,n.m=e,pu.__H.t.push(n),bu(pu))},useLayoutEffect:function(t,e){var n=mu(fu++);ku(n.m,e)&&(n.v=t,n.m=e,pu.__H.i.push(n))},useRef:function(t){return yu(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){var r=mu(fu++);ku(r.m,n)&&(r.m=n,pu.__H.u.push({ref:t,createHandle:e}))},useMemo:yu,useCallback:function(t,e){return yu(function(){return t},e)},useContext:function(t){var e=pu.context[t.__c];if(!e)return t.__p;var n=mu(fu++);return null==n.v&&(n.v=!0,e.sub(pu)),e.props.value},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}};function Nu(t,e){for(var n in e)t[n]=e[n];return t}function Ru(t){var e=t.parentNode;e&&e.removeChild(t)}var Pu=b.__e;function Ou(){this.t=[]}b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);Pu(t,e,n)},(Ou.prototype=new k).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(j(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?Ru(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},Ou.prototype.render=function(t,e){return e.u?t.fallback:t.children};var Au="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,zu=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,Fu=b.event;function Gu(t,e,n){if(null==e.__k)for(;e.firstChild;)Ru(e.firstChild);return X(t,e),"function"==typeof n&&n(),t?t.__c:null}b.event=function(t){return Fu&&(t=Fu(t)),t.persist=function(){},t.nativeEvent=t};var Tu=function(){};function Hu(t){var e=this,n=t.container,r=m(Tu,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,X(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),L("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,X(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),j(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),j(e.v)},null}Tu.prototype.getChildContext=function(){return this.props.context},Tu.prototype.render=function(t){return t.children};function ju(t,e){return t?O(t).map(e):null}var Yu={map:ju,forEach:ju,count:function(t){return t?O(t).length:0},only:function(t){if(1!==(t=O(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:O};function Xu(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=m.apply(void 0,t),r=n.type,o=n.props;return"function"!=typeof r&&(o.defaultValue&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===r&&(O(o.children).forEach(function(t){-1!=o.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete o.value),function(t,e){var n,r,o;for(o in e)if(n=zu.test(o))break;if(n)for(o in r=t.props={},e)r[zu.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o]}(n,o)),n.preactCompatNormalized=!1,Lu(n)}function Lu(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(qu.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",qu)),t;var e}function Wu(t){return!!t&&t.$$typeof===Au}var qu={configurable:!0,get:function(){return this.class}};function Uu(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}var Bu,Vu=((Bu=k)&&(Iu.__proto__=Bu),((Iu.prototype=Object.create(Bu&&Bu.prototype)).constructor=Iu).prototype.shouldComponentUpdate=function(t,e){return Uu(this.props,t)||Uu(this.state,e)},Iu);function Iu(t){Bu.call(this,t),this.isPureReactComponent=!0}function $u(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}k.prototype.isReactComponent={};var Ku=b.vnode;b.vnode=function(i){i.$$typeof=Au,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.o&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.h&&t.prototype&&($u(t.prototype,"componentWillMount"),$u(t.prototype,"componentWillReceiveProps"),$u(t.prototype,"componentWillUpdate"),t.h=!0),Ku&&Ku(i)};Nu({version:"16.8.0",Children:Yu,render:Gu,hydrate:Gu,unmountComponentAtNode:function(t){return!!t.__k&&(X(null,t),!0)},createPortal:function(t,e){return m(Hu,{vnode:t,container:e})},createElement:Xu,createContext:q,createFactory:function(t){return Xu.bind(null,t)},cloneElement:function(t){return Wu(t)?Lu(W.apply(null,arguments)):t},createRef:E,Fragment:S,isValidElement:Wu,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:k,PureComponent:Vu,memo:function(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):Uu(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,m(e,Nu({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t},forwardRef:function(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t},unstable_batchedUpdates:function(t,e){return t(e)},Suspense:Ou,lazy:function(e){var n,r,o;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){o=t}),o)throw o;if(!r)throw n;return m(r,t)}return t.displayName="Lazy",t.o=!0,t}},Du);var Zu=function(t,e){return(Zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ju(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(void 0,["scena-"].concat(t))}Ju("ruler");var Qu,tl,el,nl,rl,ol=Ju("guide","adder"),il=Ju("guides"),al=Ju("guide"),sl=Ju("dragging"),ul=(Qu="div",tl=e("scena-",'\n{\n    position: relative;\n}\ncanvas {\n    position: relative;\n}\n.guides {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n    z-index: 2000;\n}\n:host.horizontal .guides {\n    width: 100%;\n    height: 0;\n    top: 30px;\n}\n:host.vertical .guides {\n    height: 100%;\n    width: 0;\n    left: 30px;\n}\n.guide {\n    position: absolute;\n    background: #f33;\n    z-index: 2;\n}\n.guide.dragging:before {\n    position: absolute;\n    content: "";\n    width: 100%;\n    height: 100%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host.horizontal .guide {\n    width: 100%;\n    height: 1px;\n    cursor: row-resize;\n}\n:host.vertical .guide {\n    width: 1px;\n    height: 100%;\n    cursor: col-resize;\n}\n.mobile :host.horizontal .guide {\n    transform: scale(1, 2);\n}\n.mobile :host.vertical .guide {\n    transform: scale(2, 1);\n}\n:host.horizontal .guide:before {\n    height: 20px;\n}\n:host.vertical .guide:before {\n    width: 20px;\n}\n.adder {\n    display: none;\n}\n.adder.dragging {\n    display: block;\n}\n'),nl="rCS"+function(t){return lu(t).toString(36)}(tl),rl=0,function(e){function t(t){return e.call(this,t)||this}return function(t,e){function n(){this.constructor=t}su(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t.prototype.render=function(){var t=this.props,e=t.className,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["className"]);return Ks(Qu,uu({className:e+" "+nl},n))},t.prototype.componentDidMount=function(){0===rl&&(el=cu(nl,tl)),++rl},t.prototype.componentWillUnmount=function(){0==--rl&&el&&el.parentNode.removeChild(el)},t.prototype.getElement=function(){return this.element||(this.element=eu(this))},t}(k)),ll=function(t){function e(){var l=null!==t&&t.apply(this,arguments)||this;return l.state={guides:[]},l.scrollPos=0,l.guideElements=[],l.onDragStart=function(t){var e=t.datas,n=t.clientX,r=t.clientY,o=t.inputEvent,i="horizontal"===l.props.type,a=l.guidesElement.getBoundingClientRect();e.offset=i?a.top:a.left,te(e.target,sl),l.onDrag({datas:e,clientX:n,clientY:r}),o.stopPropagation(),o.preventDefault()},l.onDrag=function(t){var e=t.datas,n=t.clientX,r=t.clientY,o="horizontal"===l.props.type,i=Math.round((o?r:n)-e.offset);return e.target.style.transform=l.getTranslateName()+"("+i+"px)",i},l.onDragEnd=function(t){var e=t.datas,n=t.clientX,r=t.clientY,o=l.onDrag({datas:e,clientX:n,clientY:r}),i=l.state.guides,a=l.props.setGuides,s=Math.round(o/l.props.zoom);if(ee(e.target,sl),e.fromRuler)o>=l.scrollPos&&i.indexOf(s)<0&&l.setState({guides:i.concat([s])},function(){a(l.state.guides)});else{var u=e.target.getAttribute("data-index");o<l.scrollPos||-1<i.indexOf(s)?i.splice(u,1):i[u]=s,l.setState({guides:i.slice()},function(){a(l.state.guides)})}},l}!function(t,e){function n(){this.constructor=t}Zu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.type,n=t.width,r=t.height,o=t.unit,i=t.zoom,a=t.style,s=t.rulerStyle,u=t.backgroundColor,l=t.lineColor;return Xu(ul,{ref:g(this,"manager"),className:Ju("manager",e),style:a},Xu(xs,{ref:g(this,"ruler"),type:e,width:n,height:r,unit:o,zoom:i,backgroundColor:u,lineColor:l,style:s}),Xu("div",{className:il,ref:g(this,"guidesElement")},Xu("div",{className:ol,ref:g(this,"adderElement")}),this.renderGuides()))},n.renderGuides=function(){var n=this,t=this.props,r=t.type,o=t.zoom,i="horizontal"===r?"translateY":"translateX",e=this.state.guides;return this.guideElements=[],e.map(function(t,e){return Xu("div",{className:Ju("guide",r),ref:a(n,"guideElements",e),key:e,"data-index":e,style:{transform:i+"("+t*o+"px)"}})})},n.componentDidMount=function(){var r=this;this.dragger=new sn(this.manager.getElement(),{container:document.body,dragstart:function(t){var e=t.inputEvent.target,n=t.datas;if(e===r.ruler.canvasElement)t.datas.fromRuler=!0,n.target=r.adderElement;else{if(!Qt(e,al))return!1;n.target=e}r.onDragStart(t)},drag:this.onDrag,dragend:this.onDragEnd})},n.componentWillUnmount=function(){this.dragger.unset()},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(n){var t=this.props.zoom,e=this.guidesElement;this.scrollPos=n,e.style.transform=this.getTranslateName()+"("+-n*t+"px)";var r=this.state.guides;this.guideElements.forEach(function(t,e){t&&(t.style.display=-n+r[e]<0?"none":"block")})},n.resize=function(){this.ruler.resize()},n.scroll=function(t){this.ruler.scroll(t)},n.getTranslateName=function(){return"horizontal"===this.props.type?"translateY":"translateX"},e.defaultProps={setGuides:function(){},zoom:1,style:{width:"100%",height:"100%"}},e}(Vu),cl=function(t,e){return(cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var fl=function(){return(fl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var pl,dl,hl=["setGuides","type","width","height","rulerStyle","unit","zoom","style","backgroundColor","lineColor","container"],vl=[],gl=b.__r,ml=b.diffed,_l=b.__c,yl=b.unmount;function bl(){vl.some(function(t){t.__P&&(t.__H.u.forEach(xl),t.__H.u.forEach(wl),t.__H.u=[])}),vl=[]}function xl(t){t.m&&t.m()}function wl(t){var e=t.i();"function"==typeof e&&(t.m=e)}b.__r=function(t){gl&&gl(t),(pl=t.__c).__H&&(pl.__H.u.forEach(xl),pl.__H.u.forEach(wl),pl.__H.u=[])},b.diffed=function(t){ml&&ml(t);var e=t.__c;if(e){var n=e.__H;n&&n.u.length&&(1!==vl.push(e)&&dl===b.requestAnimationFrame||((dl=b.requestAnimationFrame)||function(t){function e(){clearTimeout(r),cancelAnimationFrame(n),setTimeout(t)}var n,r=setTimeout(e,100);"undefined"!=typeof window&&(n=requestAnimationFrame(e))})(bl))}},b.__c=function(t,e){e.some(function(t){t.__h.forEach(xl),t.__h=t.__h.filter(function(t){return!t.i||wl(t)})}),_l&&_l(t,e)},b.unmount=function(t){yl&&yl(t);var e=t.__c;if(e){var n=e.__H;n&&n.t.forEach(function(t){return t.m&&t.m()})}};var Cl=b.__e;b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.o)return n&&(e.__e=n.__e,e.__k=n.__k),void r.o(t);Cl(t,e,n)},(new k).o=function(t){var e=this;e.__u.push(t);function n(){e.__u[e.__u.indexOf(t)]=e.__u[e.__u.length-1],e.__u.pop(),0==e.__u.length&&(e.__f&&j(e.__f),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.__f=e.__f&&W(e.__f),e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?(o=r.__e,i=void 0,(i=o.parentNode)&&i.removeChild(o)):r.__k&&t(r.__k))}var o,i}(e.__v.__k),e.__v.__k=[]),t.then(n,n)};var El="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Sl=b.event;b.event=function(t){return Sl&&(t=Sl(t)),t.persist=function(){},t.nativeEvent=t};var kl,Ml=((kl=Dl.prototype).getChildContext=function(){return this.props.context},kl.render=function(t){return t.children},Dl);function Dl(){}function Nl(t){var e=this,n=t.container,r=m(Ml,{context:e.context},t.vnode);return e.i&&e.i!==n&&(e.l.parentNode&&e.i.removeChild(e.l),j(e.s),e.v=!1),t.vnode?e.v?(n.__k=e.__k,X(r,n),e.__k=n.__k):(e.l=document.createTextNode(""),L("",n),n.appendChild(e.l),e.v=!0,X(r,e.i=n,e.l),e.__k=this.l.__k):e.v&&(e.l.parentNode&&e.i.removeChild(e.l),j(e.s)),e.s=r,e.componentWillUnmount=function(){e.l.parentNode&&e.i.removeChild(e.l),j(e.s)},null}function Rl(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}var Pl,Ol,Al;Al=Pl=k,(Ol=zl).prototype=Object.create(Al.prototype),(Ol.prototype.constructor=Ol).__proto__=Al,zl.prototype.shouldComponentUpdate=function(t,e){return Rl(this.props,t)||Rl(this.state,e)};function zl(t){var e;return(e=Pl.call(this,t)||this).isPureReactComponent=!0,e}function Fl(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}k.prototype.isReactComponent={};var Gl=b.vnode;b.vnode=function(i){i.$$typeof=El,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.t&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.p&&t.prototype&&(Fl(t.prototype,"componentWillMount"),Fl(t.prototype,"componentWillReceiveProps"),Fl(t.prototype,"componentWillUpdate"),t.p=!0),Gl&&Gl(i)};var Tl=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return function(t,e){function n(){this.constructor=t}cl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n),t.prototype.render=function(){var t=this.state,e=t.container,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["container"]);return function(t,e){return m(Nl,{vnode:t,container:e})}(m(ll,fl({ref:g(this,"preactGuides")},n)),e)},t}(k),Hl=function(){function t(t,e){void 0===e&&(e={}),this.tempElement=document.createElement("div"),X(m(Tl,fl({ref:g(this,"innerGuides")},e,{container:t})),this.tempElement)}var e=t.prototype;return e.scroll=function(t){this.getPreactGuides().scroll(t)},e.scrollGuides=function(t){this.getPreactGuides().scrollGuides(t)},e.resize=function(){this.getPreactGuides().resize()},e.getGuides=function(){return this.getPreactGuides().getGuides()},e.setState=function(t,e){this.innerGuides.setState(t,e)},e.destroy=function(){X("",this.tempElement),this.tempElement=null,this.innerGuides=null},e.getPreactGuides=function(){return this.innerGuides.preactGuides},t=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(o=t[s])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);return 3<i&&a&&Object.defineProperty(e,n,a),a}([l(hl,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getPreactGuides().props[n]},set:function(t){var e;this.innerGuides.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(),jl=function(t,e){return(jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Yl,Xl=(function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,r=String(t);return(n=o[r.toLowerCase()])?n:(n=i[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var r;if(r=o[e.toLowerCase()])return r===n;if(r=i[e.toLowerCase()])return r===n}else if("number"==typeof e)return e===n;return!1}};var o=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)o[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)o[r-48]=r;for(r=1;r<13;r++)o["f"+r]=r+111;for(r=0;r<10;r++)o["numpad "+r]=r+96;var a=e.names=e.title={};for(r in o)a[o[r]]=r;for(var s in i)o[s]=i[s]}(Yl={exports:{}},Yl.exports),Yl.exports),Ll=(Xl.code,Xl.codes,Xl.aliases,Xl.names);Xl.title;function Wl(t){return Array.isArray(t)}function ql(t){return"string"==typeof t}function Ul(t,e,n,r){t.addEventListener(e,n,r)}var Bl,Vl={"+":"plus","left command":"meta","right command":"meta"},Il={shift:1,ctrl:2,alt:3,meta:4};function $l(t){var e=Ll[t]||"";for(var n in Vl)e=e.replace(n,Vl[n]);return e.replace(/\s/g,"")}function Kl(t){var e=t.slice();return e.sort(function(t,e){return(Il[t]||5)-(Il[e]||5)}),e}var Zl=function(n){function t(t){void 0===t&&(t=window);var e=n.call(this)||this;return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e.clear=function(){return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e},e.keydownEvent=function(t){e.triggerEvent("keydown",t)},e.keyupEvent=function(t){e.triggerEvent("keyup",t)},Ul(t,"blur",e.clear),Ul(t,"keydown",e.keydownEvent),Ul(t,"keyup",e.keyupEvent),e}!function(t,e){function n(){this.constructor=t}jl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n);var e=t.prototype;return Object.defineProperty(t,"global",{get:function(){return Bl=Bl||new t},enumerable:!0,configurable:!0}),e.keydown=function(t,e){return this.addEvent("keydown",t,e)},e.offKeydown=function(t,e){return this.removeEvent("keydown",t,e)},e.offKeyup=function(t,e){return this.removeEvent("keyup",t,e)},e.keyup=function(t,e){return this.addEvent("keyup",t,e)},e.addEvent=function(t,e,n){return Wl(e)?this.on(t+"."+Kl(e).join("."),n):ql(e)?this.on(t+"."+e,n):this.on(t,e),this},e.removeEvent=function(t,e,n){return Wl(e)?this.off(t+"."+Kl(e).join("."),n):ql(e)?this.off(t+"."+e,n):this.off(t,e),this},e.triggerEvent=function(t,e){this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var n=$l(e.keyCode),r={key:n,isToggle:"ctrl"===n||"shift"===n||"meta"===n||"alt"===n,inputEvent:e,keyCode:e.keyCode,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey};this.trigger(t,r),this.trigger(t+"."+n,r);var o=function(t,e){void 0===e&&(e=$l(t.keyCode));var n=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return-1===n.indexOf(e)&&n.push(e),n.filter(Boolean)}(e,n);1<o.length&&this.trigger(t+"."+o.join("."),r)},t}(t),Jl=St();(Jl.isMobile||-1<Jl.os.name.indexOf("ios")||-1<Jl.browser.name.indexOf("safari"))&&te(document.body,"mobile");var Ql=document.querySelector(".editor"),tc=document.querySelector(".label"),ec=document.querySelector(".rulers"),nc=ec.querySelector(".ruler.horizontal"),rc=ec.querySelector(".ruler.vertical"),oc=document.querySelector('.control input[name="x"]'),ic=document.querySelector('.control input[name="y"]'),ac=document.querySelector('.control input[name="w"]'),sc=document.querySelector('.control input[name="h"]'),uc=document.querySelector('.control input[name="r"]'),lc=document.querySelector(".moveable.target"),cc=new Aa({left:"0px",top:"0px",width:"250px",height:"200px",transform:{translateX:window.innerWidth/2-125+"px",translateY:Math.max(700,window.innerHeight)/2-250+"px",rotate:"0deg",scaleX:1,scaleY:1}});function fc(t,e){function n(){e(t.value),dc(),vc.updateRect()}new Zl(t).keyup("enter",n),t.addEventListener("blur",n)}function pc(t){cc.set("transform","translateX",t[0]+"px"),cc.set("transform","translateY",t[1]+"px"),oc.value=""+t[0],ic.value=""+t[1]}function dc(){lc.style.cssText+=cc.toCSS()}fc(oc,function(t){cc.set("transform","translateX",parseFloat(t)+"px")}),fc(ic,function(t){cc.set("transform","translateY",parseFloat(t)+"px")}),fc(ac,function(t){cc.set("width",parseFloat(t)+"px")}),fc(sc,function(t){cc.set("height",parseFloat(t)+"px")}),fc(uc,function(t){cc.set("transform","rotate",parseFloat(t)+"deg")}),oc.value=""+parseFloat(cc.get("transform","translateX")),ic.value=""+parseFloat(cc.get("transform","translateY")),dc();var hc=!1,vc=new Ji(Ql,{target:lc,draggable:!0,resizable:!0,rotatable:!0,snappable:!0,pinchable:!0,snapCenter:!0,snapThreshold:10,throttleResize:0,throttleRotate:1,keepRatio:!1,origin:!1,bounds:{left:30,top:30}}).on("dragStart",function(t){(0,t.set)([parseFloat(cc.get("transform","translateX")),parseFloat(cc.get("transform","translateY"))])}).on("drag",function(t){pc(t.beforeTranslate)}).on("rotateStart",function(t){(0,t.set)(parseFloat(cc.get("transform","rotate")))}).on("rotate",function(t){var e=t.beforeRotate,n=t.clientX,r=t.clientY,o=t.isPinch;cc.set("transform","rotate",e+"deg"),uc.value=e+"°",o||yc(n,r,e+"°")}).on("resizeStart",function(t){var e=t.setOrigin,n=t.dragStart;e(["%","%"]),n&&n.set([parseFloat(cc.get("transform","translateX")),parseFloat(cc.get("transform","translateY"))])}).on("resize",function(t){var e=t.width,n=t.height,r=t.drag,o=t.clientX,i=t.clientY,a=t.isPinch;cc.set("width",e+"px"),cc.set("height",n+"px"),pc(r.beforeTranslate),ac.value=""+e,sc.value=""+n,a||yc(o,i,e+" X "+n)}).on("pinchStart",function(){hc=!0}).on("pinch",function(t){_c(t.clientX,t.clientY)}).on("render",function(){hc&&(tc.innerHTML="W: "+parseFloat(cc.get("width"))+"<br/>H: "+parseFloat(cc.get("height"))+"<br/>R: "+parseFloat(cc.get("transform","rotate"))+"°"),dc()}).on("renderEnd",function(){hc=!1,tc.style.display="none"}),gc=new Hl(nc,{type:"horizontal",setGuides:bc}),mc=new Hl(rc,{type:"vertical",setGuides:bc});function _c(t,e){tc.style.cssText="display: block; transform: translate("+t+"px, "+(e-10)+"px) translate(-100%, -100%);"}function yc(t,e,n){_c(t,e),tc.innerHTML=n}function bc(){var t=window.innerWidth/2+15,e=window.innerHeight/2;vc.verticalGuidelines=n(mc.getGuides().map(function(t){return t+30}),[t]),vc.horizontalGuidelines=n(gc.getGuides().map(function(t){return t+30}),[e])}function xc(t){t?(vc.throttleRotate=30,vc.keepRatio=!0):(vc.throttleRotate=1,vc.keepRatio=!1)}Zl.global.on("keydown",function(t){xc(t.shiftKey)}).on("keyup",function(t){xc(t.shiftKey)}),window.addEventListener("resize",function(){bc(),vc.updateRect()}),document.body.addEventListener("gesturestart",function(t){t.preventDefault()}),bc();var wc=document.querySelector(".draggable"),Cc=new Ji(wc.parentElement,{target:wc,origin:!1,draggable:!0}).on("drag",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Ec=document.querySelector(".resizable"),Sc=new Ji(Ec.parentElement,{target:Ec,origin:!1,resizable:!0}).on("resize",function(t){var e=t.target,n=t.width,r=t.height;e.style.width=n+"px",e.style.height=r+"px"}),kc=document.querySelector(".scalable"),Mc=new Ji(kc.parentElement,{target:kc,origin:!1,scalable:!0}).on("scale",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Dc=document.querySelector(".rotatable"),Nc=new Ji(Dc.parentElement,{target:Dc,origin:!1,rotatable:!0}).on("rotate",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Rc=document.querySelector(".warpable"),Pc=new Ji(Rc.parentElement,{target:Rc,warpable:!0,origin:!1}).on("warp",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Oc=document.querySelector(".snappable"),Ac=(new Ji(Oc.parentElement,{target:Oc,draggable:!0,snappable:!0,snapCenter:!0,origin:!1,verticalGuidelines:[0,150,200],horizontalGuidelines:[0,150,200]}).on("drag",function(t){var e=t.target,n=t.left,r=t.top;e.style.left=n+"px",e.style.top=r+"px"}),document.querySelector(".pinchable")),zc=[1,1],Fc=0,Gc=new Ji(Ac.parentElement,{target:Ac,pinchable:["rotatable","scalable"],origin:!1}).on("rotate",function(t){var e=t.beforeDelta;Fc+=e,Ac.style.transform="scale("+zc.join(", ")+") rotate("+Fc+"deg)"}).on("scale",function(t){var e=t.delta;zc[0]*=e[0],zc[1]*=e[1],Ac.style.transform="scale("+zc.join(", ")+") rotate("+Fc+"deg)"}),Tc=document.querySelector(".groupable"),Hc=[[0,0],[0,0],[0,0]],jc=new Ji(Tc.parentElement,{target:[].slice.call(Tc.querySelectorAll("span")),origin:!1,draggable:!0}).on("dragGroup",function(t){t.events.forEach(function(t,e){var n=t.target,r=t.beforeDelta;Hc[e][0]+=r[0],Hc[e][1]+=r[1],n.style.transform="translate("+Hc[e][0]+"px, "+Hc[e][1]+"px)"})});window.addEventListener("resize",function(){Cc.updateRect(),Sc.updateRect(),Mc.updateRect(),Nc.updateRect(),Pc.updateRect(),Gc.updateRect(),jc.updateRect()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre").forEach(function(t){var e=t.getAttribute("data-group"),n=t.getAttribute("data-panel"),r=t.querySelector("code"),o=Qi[e]["preact"===n?"react":n].trim();"preact"===n&&(o=o.replace(/react/g,"preact")),r.innerText=o,hljs.highlightBlock(r)})});var Yc={};[].slice.call(document.querySelectorAll("[data-tab]")).forEach(function(r){var t=r.getAttribute("data-group"),e=r.getAttribute("data-tab"),n=document.querySelector('[data-group="'+t+'"][data-panel="'+e+'"]');Yc[t]||(Yc[t]=[]),Yc[t].push([r,n]),r.addEventListener("click",function(){Yc[t].forEach(function(t){var e=t[0],n=t[1];r!==e&&(e.classList.remove("selected"),n.classList.remove("selected"))}),r.classList.add("selected"),n.classList.add("selected")})})}();
